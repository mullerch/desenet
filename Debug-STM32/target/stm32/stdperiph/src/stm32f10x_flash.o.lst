   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 18, 4
  12              		.thumb
  13              		.file	"stm32f10x_flash.c"
  23              	.Ltext0:
  24              		.file 1 "../target/stm32/stdperiph/src/stm32f10x_flash.c"
 16158              		.align	2
 16159              		.global	FLASH_SetLatency
 16160              		.thumb
 16161              		.thumb_func
 16163              	FLASH_SetLatency:
 16164              	.LFB29:
   1:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
   2:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   ******************************************************************************
   3:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @file    stm32f10x_flash.c
   4:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @author  MCD Application Team
   5:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @version V3.4.0
   6:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @date    10/15/2010
   7:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief   This file provides all the FLASH firmware functions.
   8:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   ******************************************************************************
   9:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @copy
  10:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *
  11:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *
  18:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * <h2><center>&copy; COPYRIGHT 2010 STMicroelectronics</center></h2>
  19:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */ 
  20:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  21:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /* Includes ------------------------------------------------------------------*/
  22:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #include "stm32f10x_flash.h"
  23:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  24:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  25:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @{
  26:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
  27:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  28:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /** @defgroup FLASH 
  29:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief FLASH driver modules
  30:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @{
  31:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */ 
  32:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  33:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_TypesDefinitions
  34:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @{
  35:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
  36:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  37:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
  38:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @}
  39:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */ 
  40:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  41:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Defines
  42:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @{
  43:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */ 
  44:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  45:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /* Flash Access Control Register bits */
  46:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define ACR_LATENCY_Mask         ((uint32_t)0x00000038)
  47:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define ACR_HLFCYA_Mask          ((uint32_t)0xFFFFFFF7)
  48:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define ACR_PRFTBE_Mask          ((uint32_t)0xFFFFFFEF)
  49:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  50:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /* Flash Access Control Register bits */
  51:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define ACR_PRFTBS_Mask          ((uint32_t)0x00000020) 
  52:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  53:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /* Flash Control Register bits */
  54:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_PG_Set                ((uint32_t)0x00000001)
  55:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_PG_Reset              ((uint32_t)0x00001FFE) 
  56:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_PER_Set               ((uint32_t)0x00000002)
  57:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_PER_Reset             ((uint32_t)0x00001FFD)
  58:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_MER_Set               ((uint32_t)0x00000004)
  59:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_MER_Reset             ((uint32_t)0x00001FFB)
  60:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_OPTPG_Set             ((uint32_t)0x00000010)
  61:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_OPTPG_Reset           ((uint32_t)0x00001FEF)
  62:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_OPTER_Set             ((uint32_t)0x00000020)
  63:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_OPTER_Reset           ((uint32_t)0x00001FDF)
  64:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_STRT_Set              ((uint32_t)0x00000040)
  65:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define CR_LOCK_Set              ((uint32_t)0x00000080)
  66:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  67:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /* FLASH Mask */
  68:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define RDPRT_Mask               ((uint32_t)0x00000002)
  69:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define WRP0_Mask                ((uint32_t)0x000000FF)
  70:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define WRP1_Mask                ((uint32_t)0x0000FF00)
  71:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define WRP2_Mask                ((uint32_t)0x00FF0000)
  72:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define WRP3_Mask                ((uint32_t)0xFF000000)
  73:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define OB_USER_BFB2             ((uint16_t)0x0008)
  74:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  75:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /* FLASH Keys */
  76:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define RDP_Key                  ((uint16_t)0x00A5)
  77:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define FLASH_KEY1               ((uint32_t)0x45670123)
  78:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define FLASH_KEY2               ((uint32_t)0xCDEF89AB)
  79:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  80:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /* FLASH BANK address */
  81:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define FLASH_BANK1_END_ADDRESS   ((uint32_t)0x807FFFF)
  82:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  83:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /* Delay definition */   
  84:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define EraseTimeout          ((uint32_t)0x000B0000)
  85:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #define ProgramTimeout        ((uint32_t)0x00002000)
  86:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
  87:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @}
  88:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */ 
  89:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  90:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Macros
  91:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @{
  92:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
  93:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  94:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
  95:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @}
  96:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */ 
  97:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
  98:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Variables
  99:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @{
 100:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 101:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 102:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 103:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @}
 104:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */ 
 105:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 106:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_FunctionPrototypes
 107:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @{
 108:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 109:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 110:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 111:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @}
 112:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 113:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 114:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /** @defgroup FLASH_Private_Functions
 115:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @{
 116:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 117:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 118:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 119:../target/stm32/stdperiph/src/stm32f10x_flash.c **** @code  
 120:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  
 121:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  This driver provides functions to configure and program the Flash memory of all STM32F10x devices,
 122:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  including the latest STM32F10x_XL density devices. 
 123:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 124:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  STM32F10x_XL devices feature up to 1 Mbyte with dual bank architecture for read-while-write (RWW) 
 125:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     - bank1: fixed size of 512 Kbytes (256 pages of 2Kbytes each)
 126:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     - bank2: up to 512 Kbytes (up to 256 pages of 2Kbytes each)
 127:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  While other STM32F10x devices features only one bank with memory up to 512 Kbytes.
 128:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 129:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  In version V3.3.0, some functions were updated and new ones were added to support
 130:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  STM32F10x_XL devices. Thus some functions manages all devices, while other are 
 131:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  dedicated for XL devices only.
 132:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  
 133:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  The table below presents the list of available functions depending on the used STM32F10x devices. 
 134:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       
 135:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    ***************************************************
 136:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    * Legacy functions used for all STM32F10x devices *
 137:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    ***************************************************
 138:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 139:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 140:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 141:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 142:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_SetLatency                    |    Yes     |      Yes      | No change                   
 143:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 144:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_HalfCycleAccessCmd            |    Yes     |      Yes      | No change                   
 145:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 146:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_PrefetchBufferCmd             |    Yes     |      Yes      | No change                   
 147:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 148:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_Unlock                        |    Yes     |      Yes      | - For STM32F10X_XL devices: 
 149:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: unlock 
 150:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               |   to FLASH_UnlockBank1 funct
 151:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 152:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_Lock                          |    Yes     |      Yes      | - For STM32F10X_XL devices: 
 153:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: lock Ba
 154:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               |   to FLASH_LockBank1 functio
 155:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 156:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_ErasePage                     |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 157:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: erase a
 158:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 159:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_EraseAllPages                 |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 160:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: erase a
 161:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 162:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_EraseOptionBytes              |    Yes     |      Yes      | No change                   
 163:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 164:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_ProgramWord                   |    Yes     |      Yes      | Updated to program up to 1MB
 165:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 166:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_ProgramHalfWord               |    Yes     |      Yes      | Updated to program up to 1MB
 167:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 168:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_ProgramOptionByteData         |    Yes     |      Yes      | No change                   
 169:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 170:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_EnableWriteProtection         |    Yes     |      Yes      | No change                   
 171:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 172:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_ReadOutProtection             |    Yes     |      Yes      | No change                   
 173:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 174:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_UserOptionByteConfig          |    Yes     |      Yes      | No change                   
 175:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 176:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_GetUserOptionByte             |    Yes     |      Yes      | No change                   
 177:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 178:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_GetWriteProtectionOptionByte  |    Yes     |      Yes      | No change                   
 179:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 180:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_GetReadOutProtectionStatus    |    Yes     |      Yes      | No change                   
 181:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 182:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_GetPrefetchBufferStatus       |    Yes     |      Yes      | No change                   
 183:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 184:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_ITConfig                      |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 185:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: enable 
 186:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 187:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_GetFlagStatus                 |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 188:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: return 
 189:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 190:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_ClearFlag                     |    Yes     |      Yes      | - For STM32F10x_XL devices: 
 191:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               | - For other devices: clear B
 192:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 193:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_GetStatus                     |    Yes     |      Yes      | - Return the status of Bank1
 194:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               |   equivalent to FLASH_GetBan
 195:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 196:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_WaitForLastOperation          |    Yes     |      Yes      | - Wait for Bank1 last operat
 197:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |            |               |   equivalent to: FLASH_WaitF
 198:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 199:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 200:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    ************************************************************************************************
 201:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    * New functions used for all STM32F10x devices to manage Bank1:                                 
 202:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    *   - These functions are mainly useful for STM32F10x_XL density devices, to have separate contr
 203:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    *   - For other devices, these functions are optional (covered by functions listed above)       
 204:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    ************************************************************************************************
 205:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 206:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 207:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 208:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 209:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_UnlockBank1                  |    Yes     |      Yes      | - Unlock Bank1              
 210:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 211:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_LockBank1                     |    Yes     |      Yes      | - Lock Bank1                
 212:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 213:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_EraseAllBank1Pages           |    Yes     |      Yes      | - Erase all pages in Bank1  
 214:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 215:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_GetBank1Status               |    Yes     |      Yes      | - Return the status of Bank1
 216:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 217:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_WaitForLastBank1Operation    |    Yes     |      Yes      | - Wait for Bank1 last operat
 218:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 219:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 220:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    *****************************************************************************
 221:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    * New Functions used only with STM32F10x_XL density devices to manage Bank2 *
 222:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    *****************************************************************************
 223:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 224:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |       Functions prototypes         |STM32F10x_XL|Other STM32F10x|    Comments                 
 225:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |                                    |   devices  |  devices      |                             
 226:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 227:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_UnlockBank2                  |    Yes     |      No       | - Unlock Bank2              
 228:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 229:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |FLASH_LockBank2                     |    Yes     |      No       | - Lock Bank2                
 230:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 231:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_EraseAllBank2Pages           |    Yes     |      No       | - Erase all pages in Bank2  
 232:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 233:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_GetBank2Status               |    Yes     |      No       | - Return the status of Bank2
 234:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 235:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_WaitForLastBank2Operation    |    Yes     |      No       | - Wait for Bank2 last operat
 236:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    |-----------------------------------------------------------------------------------------------
 237:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    | FLASH_BootConfig                   |    Yes     |      No       | - Configure to boot from Ban
 238:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    +-----------------------------------------------------------------------------------------------
 239:../target/stm32/stdperiph/src/stm32f10x_flash.c **** @endcode
 240:../target/stm32/stdperiph/src/stm32f10x_flash.c **** */
 241:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 242:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 243:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 244:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Sets the code latency value.
 245:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 246:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  FLASH_Latency: specifies the FLASH Latency value.
 247:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 248:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_0: FLASH Zero Latency cycle
 249:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_1: FLASH One Latency cycle
 250:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_Latency_2: FLASH Two Latency cycles
 251:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 252:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 253:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_SetLatency(uint32_t FLASH_Latency)
 254:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16165              		.loc 1 254 0
 16166              		.cfi_startproc
 16167              		@ args = 0, pretend = 0, frame = 16
 16168              		@ frame_needed = 1, uses_anonymous_args = 0
 16169              		@ link register save eliminated.
 16170 0000 80B4     		push	{r7}
 16171              	.LCFI0:
 16172              		.cfi_def_cfa_offset 4
 16173 0002 85B0     		sub	sp, sp, #20
 16174              	.LCFI1:
 16175              		.cfi_def_cfa_offset 24
 16176 0004 00AF     		add	r7, sp, #0
 16177              		.cfi_offset 7, -4
 16178              	.LCFI2:
 16179              		.cfi_def_cfa_register 7
 16180 0006 7860     		str	r0, [r7, #4]
 255:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   uint32_t tmpreg = 0;
 16181              		.loc 1 255 0
 16182 0008 4FF00003 		mov	r3, #0
 16183 000c FB60     		str	r3, [r7, #12]
 256:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 257:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
 258:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_LATENCY(FLASH_Latency));
 259:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 260:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Read the ACR register */
 261:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   tmpreg = FLASH->ACR;  
 16184              		.loc 1 261 0
 16185 000e 4FF40053 		mov	r3, #8192
 16186 0012 C4F20203 		movt	r3, 16386
 16187 0016 1B68     		ldr	r3, [r3, #0]
 16188 0018 FB60     		str	r3, [r7, #12]
 262:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 263:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Sets the Latency value */
 264:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   tmpreg &= ACR_LATENCY_Mask;
 16189              		.loc 1 264 0
 16190 001a FB68     		ldr	r3, [r7, #12]
 16191 001c 03F03803 		and	r3, r3, #56
 16192 0020 FB60     		str	r3, [r7, #12]
 265:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   tmpreg |= FLASH_Latency;
 16193              		.loc 1 265 0
 16194 0022 FA68     		ldr	r2, [r7, #12]
 16195 0024 7B68     		ldr	r3, [r7, #4]
 16196 0026 42EA0303 		orr	r3, r2, r3
 16197 002a FB60     		str	r3, [r7, #12]
 266:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 267:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Write the ACR register */
 268:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->ACR = tmpreg;
 16198              		.loc 1 268 0
 16199 002c 4FF40053 		mov	r3, #8192
 16200 0030 C4F20203 		movt	r3, 16386
 16201 0034 FA68     		ldr	r2, [r7, #12]
 16202 0036 1A60     		str	r2, [r3, #0]
 269:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16203              		.loc 1 269 0
 16204 0038 07F11407 		add	r7, r7, #20
 16205 003c BD46     		mov	sp, r7
 16206 003e 80BC     		pop	{r7}
 16207 0040 7047     		bx	lr
 16208              		.cfi_endproc
 16209              	.LFE29:
 16211 0042 00BF     		.section	.text.FLASH_HalfCycleAccessCmd,"ax",%progbits
 16212              		.align	2
 16213              		.global	FLASH_HalfCycleAccessCmd
 16214              		.thumb
 16215              		.thumb_func
 16217              	FLASH_HalfCycleAccessCmd:
 16218              	.LFB30:
 270:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 271:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 272:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Enables or disables the Half cycle flash access.
 273:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 274:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  FLASH_HalfCycleAccess: specifies the FLASH Half cycle Access mode.
 275:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 276:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_HalfCycleAccess_Enable: FLASH Half Cycle Enable
 277:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_HalfCycleAccess_Disable: FLASH Half Cycle Disable
 278:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 279:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 280:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_HalfCycleAccessCmd(uint32_t FLASH_HalfCycleAccess)
 281:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16219              		.loc 1 281 0
 16220              		.cfi_startproc
 16221              		@ args = 0, pretend = 0, frame = 8
 16222              		@ frame_needed = 1, uses_anonymous_args = 0
 16223              		@ link register save eliminated.
 16224 0000 80B4     		push	{r7}
 16225              	.LCFI3:
 16226              		.cfi_def_cfa_offset 4
 16227 0002 83B0     		sub	sp, sp, #12
 16228              	.LCFI4:
 16229              		.cfi_def_cfa_offset 16
 16230 0004 00AF     		add	r7, sp, #0
 16231              		.cfi_offset 7, -4
 16232              	.LCFI5:
 16233              		.cfi_def_cfa_register 7
 16234 0006 7860     		str	r0, [r7, #4]
 282:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
 283:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_HALFCYCLEACCESS_STATE(FLASH_HalfCycleAccess));
 284:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 285:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Enable or disable the Half cycle access */
 286:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->ACR &= ACR_HLFCYA_Mask;
 16235              		.loc 1 286 0
 16236 0008 4FF40053 		mov	r3, #8192
 16237 000c C4F20203 		movt	r3, 16386
 16238 0010 4FF40052 		mov	r2, #8192
 16239 0014 C4F20202 		movt	r2, 16386
 16240 0018 1268     		ldr	r2, [r2, #0]
 16241 001a 22F00802 		bic	r2, r2, #8
 16242 001e 1A60     		str	r2, [r3, #0]
 287:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->ACR |= FLASH_HalfCycleAccess;
 16243              		.loc 1 287 0
 16244 0020 4FF40053 		mov	r3, #8192
 16245 0024 C4F20203 		movt	r3, 16386
 16246 0028 4FF40052 		mov	r2, #8192
 16247 002c C4F20202 		movt	r2, 16386
 16248 0030 1268     		ldr	r2, [r2, #0]
 16249 0032 1146     		mov	r1, r2
 16250 0034 7A68     		ldr	r2, [r7, #4]
 16251 0036 41EA0202 		orr	r2, r1, r2
 16252 003a 1A60     		str	r2, [r3, #0]
 288:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16253              		.loc 1 288 0
 16254 003c 07F10C07 		add	r7, r7, #12
 16255 0040 BD46     		mov	sp, r7
 16256 0042 80BC     		pop	{r7}
 16257 0044 7047     		bx	lr
 16258              		.cfi_endproc
 16259              	.LFE30:
 16261 0046 00BF     		.section	.text.FLASH_PrefetchBufferCmd,"ax",%progbits
 16262              		.align	2
 16263              		.global	FLASH_PrefetchBufferCmd
 16264              		.thumb
 16265              		.thumb_func
 16267              	FLASH_PrefetchBufferCmd:
 16268              	.LFB31:
 289:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 290:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 291:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Enables or disables the Prefetch Buffer.
 292:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 293:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  FLASH_PrefetchBuffer: specifies the Prefetch buffer status.
 294:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
 295:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_PrefetchBuffer_Enable: FLASH Prefetch Buffer Enable
 296:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_PrefetchBuffer_Disable: FLASH Prefetch Buffer Disable
 297:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 298:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 299:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_PrefetchBufferCmd(uint32_t FLASH_PrefetchBuffer)
 300:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16269              		.loc 1 300 0
 16270              		.cfi_startproc
 16271              		@ args = 0, pretend = 0, frame = 8
 16272              		@ frame_needed = 1, uses_anonymous_args = 0
 16273              		@ link register save eliminated.
 16274 0000 80B4     		push	{r7}
 16275              	.LCFI6:
 16276              		.cfi_def_cfa_offset 4
 16277 0002 83B0     		sub	sp, sp, #12
 16278              	.LCFI7:
 16279              		.cfi_def_cfa_offset 16
 16280 0004 00AF     		add	r7, sp, #0
 16281              		.cfi_offset 7, -4
 16282              	.LCFI8:
 16283              		.cfi_def_cfa_register 7
 16284 0006 7860     		str	r0, [r7, #4]
 301:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
 302:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_PREFETCHBUFFER_STATE(FLASH_PrefetchBuffer));
 303:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 304:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Enable or disable the Prefetch Buffer */
 305:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->ACR &= ACR_PRFTBE_Mask;
 16285              		.loc 1 305 0
 16286 0008 4FF40053 		mov	r3, #8192
 16287 000c C4F20203 		movt	r3, 16386
 16288 0010 4FF40052 		mov	r2, #8192
 16289 0014 C4F20202 		movt	r2, 16386
 16290 0018 1268     		ldr	r2, [r2, #0]
 16291 001a 22F01002 		bic	r2, r2, #16
 16292 001e 1A60     		str	r2, [r3, #0]
 306:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->ACR |= FLASH_PrefetchBuffer;
 16293              		.loc 1 306 0
 16294 0020 4FF40053 		mov	r3, #8192
 16295 0024 C4F20203 		movt	r3, 16386
 16296 0028 4FF40052 		mov	r2, #8192
 16297 002c C4F20202 		movt	r2, 16386
 16298 0030 1268     		ldr	r2, [r2, #0]
 16299 0032 1146     		mov	r1, r2
 16300 0034 7A68     		ldr	r2, [r7, #4]
 16301 0036 41EA0202 		orr	r2, r1, r2
 16302 003a 1A60     		str	r2, [r3, #0]
 307:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16303              		.loc 1 307 0
 16304 003c 07F10C07 		add	r7, r7, #12
 16305 0040 BD46     		mov	sp, r7
 16306 0042 80BC     		pop	{r7}
 16307 0044 7047     		bx	lr
 16308              		.cfi_endproc
 16309              	.LFE31:
 16311 0046 00BF     		.section	.text.FLASH_Unlock,"ax",%progbits
 16312              		.align	2
 16313              		.global	FLASH_Unlock
 16314              		.thumb
 16315              		.thumb_func
 16317              	FLASH_Unlock:
 16318              	.LFB32:
 308:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 309:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 310:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Program Erase Controller.
 311:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 312:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function unlocks Bank1 and Bank2.
 313:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For all other devices it unlocks Bank1 and it is equivalent 
 314:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           to FLASH_UnlockBank1 function.. 
 315:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 316:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 317:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 318:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_Unlock(void)
 319:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16319              		.loc 1 319 0
 16320              		.cfi_startproc
 16321              		@ args = 0, pretend = 0, frame = 0
 16322              		@ frame_needed = 1, uses_anonymous_args = 0
 16323              		@ link register save eliminated.
 16324 0000 80B4     		push	{r7}
 16325              	.LCFI9:
 16326              		.cfi_def_cfa_offset 4
 16327 0002 00AF     		add	r7, sp, #0
 16328              		.cfi_offset 7, -4
 16329              	.LCFI10:
 16330              		.cfi_def_cfa_register 7
 320:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank1 Access */
 321:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY1;
 16331              		.loc 1 321 0
 16332 0004 4FF40053 		mov	r3, #8192
 16333 0008 C4F20203 		movt	r3, 16386
 16334 000c 40F22312 		movw	r2, #291
 16335 0010 C4F26752 		movt	r2, 17767
 16336 0014 5A60     		str	r2, [r3, #4]
 322:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY2;
 16337              		.loc 1 322 0
 16338 0016 4FF40053 		mov	r3, #8192
 16339 001a C4F20203 		movt	r3, 16386
 16340 001e 48F6AB12 		movw	r2, #35243
 16341 0022 CCF6EF52 		movt	r2, 52719
 16342 0026 5A60     		str	r2, [r3, #4]
 323:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 324:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 325:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank2 Access */
 326:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY1;
 327:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY2;
 328:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 329:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16343              		.loc 1 329 0
 16344 0028 BD46     		mov	sp, r7
 16345 002a 80BC     		pop	{r7}
 16346 002c 7047     		bx	lr
 16347              		.cfi_endproc
 16348              	.LFE32:
 16350 002e 00BF     		.section	.text.FLASH_UnlockBank1,"ax",%progbits
 16351              		.align	2
 16352              		.global	FLASH_UnlockBank1
 16353              		.thumb
 16354              		.thumb_func
 16356              	FLASH_UnlockBank1:
 16357              	.LFB33:
 330:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 331:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Bank1 Program Erase Controller.
 332:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 333:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function unlocks Bank1.
 334:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For all other devices it unlocks Bank1 and it is 
 335:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           equivalent to FLASH_Unlock function.
 336:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 337:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 338:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 339:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_UnlockBank1(void)
 340:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16358              		.loc 1 340 0
 16359              		.cfi_startproc
 16360              		@ args = 0, pretend = 0, frame = 0
 16361              		@ frame_needed = 1, uses_anonymous_args = 0
 16362              		@ link register save eliminated.
 16363 0000 80B4     		push	{r7}
 16364              	.LCFI11:
 16365              		.cfi_def_cfa_offset 4
 16366 0002 00AF     		add	r7, sp, #0
 16367              		.cfi_offset 7, -4
 16368              	.LCFI12:
 16369              		.cfi_def_cfa_register 7
 341:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank1 Access */
 342:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY1;
 16370              		.loc 1 342 0
 16371 0004 4FF40053 		mov	r3, #8192
 16372 0008 C4F20203 		movt	r3, 16386
 16373 000c 40F22312 		movw	r2, #291
 16374 0010 C4F26752 		movt	r2, 17767
 16375 0014 5A60     		str	r2, [r3, #4]
 343:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->KEYR = FLASH_KEY2;
 16376              		.loc 1 343 0
 16377 0016 4FF40053 		mov	r3, #8192
 16378 001a C4F20203 		movt	r3, 16386
 16379 001e 48F6AB12 		movw	r2, #35243
 16380 0022 CCF6EF52 		movt	r2, 52719
 16381 0026 5A60     		str	r2, [r3, #4]
 344:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16382              		.loc 1 344 0
 16383 0028 BD46     		mov	sp, r7
 16384 002a 80BC     		pop	{r7}
 16385 002c 7047     		bx	lr
 16386              		.cfi_endproc
 16387              	.LFE33:
 16389 002e 00BF     		.section	.text.FLASH_Lock,"ax",%progbits
 16390              		.align	2
 16391              		.global	FLASH_Lock
 16392              		.thumb
 16393              		.thumb_func
 16395              	FLASH_Lock:
 16396              	.LFB34:
 345:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 346:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 347:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 348:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Unlocks the FLASH Bank2 Program Erase Controller.
 349:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10X_XL density devices.
 350:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 351:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 352:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 353:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_UnlockBank2(void)
 354:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 355:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Authorize the FPEC of Bank2 Access */
 356:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY1;
 357:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->KEYR2 = FLASH_KEY2;
 358:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 359:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 360:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 361:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 362:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 363:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Program Erase Controller.
 364:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 365:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function Locks Bank1 and Bank2.
 366:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For all other devices it Locks Bank1 and it is equivalent 
 367:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           to FLASH_LockBank1 function.
 368:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 369:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 370:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 371:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_Lock(void)
 372:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16397              		.loc 1 372 0
 16398              		.cfi_startproc
 16399              		@ args = 0, pretend = 0, frame = 0
 16400              		@ frame_needed = 1, uses_anonymous_args = 0
 16401              		@ link register save eliminated.
 16402 0000 80B4     		push	{r7}
 16403              	.LCFI13:
 16404              		.cfi_def_cfa_offset 4
 16405 0002 00AF     		add	r7, sp, #0
 16406              		.cfi_offset 7, -4
 16407              	.LCFI14:
 16408              		.cfi_def_cfa_register 7
 373:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank1 */
 374:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->CR |= CR_LOCK_Set;
 16409              		.loc 1 374 0
 16410 0004 4FF40053 		mov	r3, #8192
 16411 0008 C4F20203 		movt	r3, 16386
 16412 000c 4FF40052 		mov	r2, #8192
 16413 0010 C4F20202 		movt	r2, 16386
 16414 0014 1269     		ldr	r2, [r2, #16]
 16415 0016 42F08002 		orr	r2, r2, #128
 16416 001a 1A61     		str	r2, [r3, #16]
 375:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 376:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 377:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank2 */
 378:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->CR2 |= CR_LOCK_Set;
 379:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 380:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16417              		.loc 1 380 0
 16418 001c BD46     		mov	sp, r7
 16419 001e 80BC     		pop	{r7}
 16420 0020 7047     		bx	lr
 16421              		.cfi_endproc
 16422              	.LFE34:
 16424 0022 00BF     		.section	.text.FLASH_LockBank1,"ax",%progbits
 16425              		.align	2
 16426              		.global	FLASH_LockBank1
 16427              		.thumb
 16428              		.thumb_func
 16430              	FLASH_LockBank1:
 16431              	.LFB35:
 381:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 382:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 383:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Bank1 Program Erase Controller.
 384:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   this function can be used for all STM32F10x devices.
 385:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function Locks Bank1.
 386:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For all other devices it Locks Bank1 and it is equivalent 
 387:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           to FLASH_Lock function.
 388:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 389:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 390:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 391:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_LockBank1(void)
 392:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16432              		.loc 1 392 0
 16433              		.cfi_startproc
 16434              		@ args = 0, pretend = 0, frame = 0
 16435              		@ frame_needed = 1, uses_anonymous_args = 0
 16436              		@ link register save eliminated.
 16437 0000 80B4     		push	{r7}
 16438              	.LCFI15:
 16439              		.cfi_def_cfa_offset 4
 16440 0002 00AF     		add	r7, sp, #0
 16441              		.cfi_offset 7, -4
 16442              	.LCFI16:
 16443              		.cfi_def_cfa_register 7
 393:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank1 */
 394:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->CR |= CR_LOCK_Set;
 16444              		.loc 1 394 0
 16445 0004 4FF40053 		mov	r3, #8192
 16446 0008 C4F20203 		movt	r3, 16386
 16447 000c 4FF40052 		mov	r2, #8192
 16448 0010 C4F20202 		movt	r2, 16386
 16449 0014 1269     		ldr	r2, [r2, #16]
 16450 0016 42F08002 		orr	r2, r2, #128
 16451 001a 1A61     		str	r2, [r3, #16]
 395:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16452              		.loc 1 395 0
 16453 001c BD46     		mov	sp, r7
 16454 001e 80BC     		pop	{r7}
 16455 0020 7047     		bx	lr
 16456              		.cfi_endproc
 16457              	.LFE35:
 16459 0022 00BF     		.section	.text.FLASH_ErasePage,"ax",%progbits
 16460              		.align	2
 16461              		.global	FLASH_ErasePage
 16462              		.thumb
 16463              		.thumb_func
 16465              	FLASH_ErasePage:
 16466              	.LFB36:
 396:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 397:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 398:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 399:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Locks the FLASH Bank2 Program Erase Controller.
 400:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10X_XL density devices.
 401:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 402:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
 403:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 404:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_LockBank2(void)
 405:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 406:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Set the Lock Bit to lock the FPEC and the CR of  Bank2 */
 407:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->CR2 |= CR_LOCK_Set;
 408:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 409:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 410:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 411:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 412:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Erases a specified FLASH page.
 413:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 414:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Page_Address: The page address to be erased.
 415:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
 416:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 417:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 418:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_ErasePage(uint32_t Page_Address)
 419:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16467              		.loc 1 419 0
 16468              		.cfi_startproc
 16469              		@ args = 0, pretend = 0, frame = 16
 16470              		@ frame_needed = 1, uses_anonymous_args = 0
 16471 0000 80B5     		push	{r7, lr}
 16472              	.LCFI17:
 16473              		.cfi_def_cfa_offset 8
 16474 0002 84B0     		sub	sp, sp, #16
 16475              	.LCFI18:
 16476              		.cfi_def_cfa_offset 24
 16477 0004 00AF     		add	r7, sp, #0
 16478              		.cfi_offset 14, -4
 16479              		.cfi_offset 7, -8
 16480              	.LCFI19:
 16481              		.cfi_def_cfa_register 7
 16482 0006 7860     		str	r0, [r7, #4]
 420:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 16483              		.loc 1 420 0
 16484 0008 4FF00403 		mov	r3, #4
 16485 000c FB73     		strb	r3, [r7, #15]
 421:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
 422:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Page_Address));
 423:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 424:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 425:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(Page_Address < FLASH_BANK1_END_ADDRESS)  
 426:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 427:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 428:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 429:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 430:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     { 
 431:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to erase the page */
 432:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR|= CR_PER_Set;
 433:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->AR = Page_Address; 
 434:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR|= CR_STRT_Set;
 435:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 436:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 437:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 438:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 439:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PER Bit */
 440:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PER_Reset;
 441:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 442:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 443:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
 444:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 445:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 446:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 447:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 448:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     { 
 449:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to erase the page */
 450:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2|= CR_PER_Set;
 451:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->AR2 = Page_Address; 
 452:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2|= CR_STRT_Set;
 453:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 454:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 455:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 456:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       
 457:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PER Bit */
 458:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_PER_Reset;
 459:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 460:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 461:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #else
 462:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 463:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 16486              		.loc 1 463 0
 16487 000e 4FF43020 		mov	r0, #720896
 16488 0012 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16489 0016 0346     		mov	r3, r0
 16490 0018 FB73     		strb	r3, [r7, #15]
 464:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 465:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 16491              		.loc 1 465 0
 16492 001a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 16493 001c 042B     		cmp	r3, #4
 16494 001e 32D1     		bne	.L9
 466:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   { 
 467:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase the page */
 468:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR|= CR_PER_Set;
 16495              		.loc 1 468 0
 16496 0020 4FF40053 		mov	r3, #8192
 16497 0024 C4F20203 		movt	r3, 16386
 16498 0028 4FF40052 		mov	r2, #8192
 16499 002c C4F20202 		movt	r2, 16386
 16500 0030 1269     		ldr	r2, [r2, #16]
 16501 0032 42F00202 		orr	r2, r2, #2
 16502 0036 1A61     		str	r2, [r3, #16]
 469:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->AR = Page_Address; 
 16503              		.loc 1 469 0
 16504 0038 4FF40053 		mov	r3, #8192
 16505 003c C4F20203 		movt	r3, 16386
 16506 0040 7A68     		ldr	r2, [r7, #4]
 16507 0042 5A61     		str	r2, [r3, #20]
 470:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR|= CR_STRT_Set;
 16508              		.loc 1 470 0
 16509 0044 4FF40053 		mov	r3, #8192
 16510 0048 C4F20203 		movt	r3, 16386
 16511 004c 4FF40052 		mov	r2, #8192
 16512 0050 C4F20202 		movt	r2, 16386
 16513 0054 1269     		ldr	r2, [r2, #16]
 16514 0056 42F04002 		orr	r2, r2, #64
 16515 005a 1A61     		str	r2, [r3, #16]
 471:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 472:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 473:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 16516              		.loc 1 473 0
 16517 005c 4FF43020 		mov	r0, #720896
 16518 0060 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16519 0064 0346     		mov	r3, r0
 16520 0066 FB73     		strb	r3, [r7, #15]
 474:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 475:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Disable the PER Bit */
 476:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR &= CR_PER_Reset;
 16521              		.loc 1 476 0
 16522 0068 4FF40053 		mov	r3, #8192
 16523 006c C4F20203 		movt	r3, 16386
 16524 0070 4FF40052 		mov	r2, #8192
 16525 0074 C4F20202 		movt	r2, 16386
 16526 0078 1269     		ldr	r2, [r2, #16]
 16527 007a 1146     		mov	r1, r2
 16528 007c 41F6FD72 		movw	r2, #8189
 16529 0080 01EA0202 		and	r2, r1, r2
 16530 0084 1A61     		str	r2, [r3, #16]
 16531              	.L9:
 477:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 478:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 479:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 480:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 481:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 16532              		.loc 1 481 0
 16533 0086 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 482:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16534              		.loc 1 482 0
 16535 0088 1846     		mov	r0, r3
 16536 008a 07F11007 		add	r7, r7, #16
 16537 008e BD46     		mov	sp, r7
 16538 0090 80BD     		pop	{r7, pc}
 16539              		.cfi_endproc
 16540              	.LFE36:
 16542 0092 00BF     		.section	.text.FLASH_EraseAllPages,"ax",%progbits
 16543              		.align	2
 16544              		.global	FLASH_EraseAllPages
 16545              		.thumb
 16546              		.thumb_func
 16548              	FLASH_EraseAllPages:
 16549              	.LFB37:
 483:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 484:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 485:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Erases all FLASH pages.
 486:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 487:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 488:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 489:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 490:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 491:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllPages(void)
 492:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16550              		.loc 1 492 0
 16551              		.cfi_startproc
 16552              		@ args = 0, pretend = 0, frame = 8
 16553              		@ frame_needed = 1, uses_anonymous_args = 0
 16554 0000 80B5     		push	{r7, lr}
 16555              	.LCFI20:
 16556              		.cfi_def_cfa_offset 8
 16557 0002 82B0     		sub	sp, sp, #8
 16558              	.LCFI21:
 16559              		.cfi_def_cfa_offset 16
 16560 0004 00AF     		add	r7, sp, #0
 16561              		.cfi_offset 14, -4
 16562              		.cfi_offset 7, -8
 16563              	.LCFI22:
 16564              		.cfi_def_cfa_register 7
 493:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 16565              		.loc 1 493 0
 16566 0006 4FF00403 		mov	r3, #4
 16567 000a FB71     		strb	r3, [r7, #7]
 494:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 495:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 496:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 497:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 498:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 499:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 500:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 501:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 502:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 503:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 504:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 505:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 506:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 507:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 508:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 509:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR &= CR_MER_Reset;
 510:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }    
 511:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 512:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 513:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 514:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_MER_Set;
 515:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_STRT_Set;
 516:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 517:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 518:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 519:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 520:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 521:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR2 &= CR_MER_Reset;
 522:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 523:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #else
 524:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 525:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 16568              		.loc 1 525 0
 16569 000c 4FF43020 		mov	r0, #720896
 16570 0010 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16571 0014 0346     		mov	r3, r0
 16572 0016 FB71     		strb	r3, [r7, #7]
 526:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 16573              		.loc 1 526 0
 16574 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 16575 001a 042B     		cmp	r3, #4
 16576 001c 2CD1     		bne	.L11
 527:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 528:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 529:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 16577              		.loc 1 529 0
 16578 001e 4FF40053 		mov	r3, #8192
 16579 0022 C4F20203 		movt	r3, 16386
 16580 0026 4FF40052 		mov	r2, #8192
 16581 002a C4F20202 		movt	r2, 16386
 16582 002e 1269     		ldr	r2, [r2, #16]
 16583 0030 42F00402 		orr	r2, r2, #4
 16584 0034 1A61     		str	r2, [r3, #16]
 530:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 16585              		.loc 1 530 0
 16586 0036 4FF40053 		mov	r3, #8192
 16587 003a C4F20203 		movt	r3, 16386
 16588 003e 4FF40052 		mov	r2, #8192
 16589 0042 C4F20202 		movt	r2, 16386
 16590 0046 1269     		ldr	r2, [r2, #16]
 16591 0048 42F04002 		orr	r2, r2, #64
 16592 004c 1A61     		str	r2, [r3, #16]
 531:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 532:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 533:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 16593              		.loc 1 533 0
 16594 004e 4FF43020 		mov	r0, #720896
 16595 0052 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16596 0056 0346     		mov	r3, r0
 16597 0058 FB71     		strb	r3, [r7, #7]
 534:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 535:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 536:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR &= CR_MER_Reset;
 16598              		.loc 1 536 0
 16599 005a 4FF40053 		mov	r3, #8192
 16600 005e C4F20203 		movt	r3, 16386
 16601 0062 4FF40052 		mov	r2, #8192
 16602 0066 C4F20202 		movt	r2, 16386
 16603 006a 1269     		ldr	r2, [r2, #16]
 16604 006c 1146     		mov	r1, r2
 16605 006e 41F6FB72 		movw	r2, #8187
 16606 0072 01EA0202 		and	r2, r1, r2
 16607 0076 1A61     		str	r2, [r3, #16]
 16608              	.L11:
 537:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 538:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 539:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 540:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 541:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 16609              		.loc 1 541 0
 16610 0078 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 542:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16611              		.loc 1 542 0
 16612 007a 1846     		mov	r0, r3
 16613 007c 07F10807 		add	r7, r7, #8
 16614 0080 BD46     		mov	sp, r7
 16615 0082 80BD     		pop	{r7, pc}
 16616              		.cfi_endproc
 16617              	.LFE37:
 16619              		.section	.text.FLASH_EraseAllBank1Pages,"ax",%progbits
 16620              		.align	2
 16621              		.global	FLASH_EraseAllBank1Pages
 16622              		.thumb
 16623              		.thumb_func
 16625              	FLASH_EraseAllBank1Pages:
 16626              	.LFB38:
 543:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 544:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 545:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Erases all Bank1 FLASH pages.
 546:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 547:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function erases all Bank1 pages.
 548:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For all other devices it erases all Bank1 pages and it is equivalent 
 549:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           to FLASH_EraseAllPages function.
 550:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 551:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 552:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 553:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 554:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllBank1Pages(void)
 555:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16627              		.loc 1 555 0
 16628              		.cfi_startproc
 16629              		@ args = 0, pretend = 0, frame = 8
 16630              		@ frame_needed = 1, uses_anonymous_args = 0
 16631 0000 80B5     		push	{r7, lr}
 16632              	.LCFI23:
 16633              		.cfi_def_cfa_offset 8
 16634 0002 82B0     		sub	sp, sp, #8
 16635              	.LCFI24:
 16636              		.cfi_def_cfa_offset 16
 16637 0004 00AF     		add	r7, sp, #0
 16638              		.cfi_offset 14, -4
 16639              		.cfi_offset 7, -8
 16640              	.LCFI25:
 16641              		.cfi_def_cfa_register 7
 556:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 16642              		.loc 1 556 0
 16643 0006 4FF00403 		mov	r3, #4
 16644 000a FB71     		strb	r3, [r7, #7]
 557:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 558:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 16645              		.loc 1 558 0
 16646 000c 4FF43020 		mov	r0, #720896
 16647 0010 FFF7FEFF 		bl	FLASH_WaitForLastBank1Operation
 16648 0014 0346     		mov	r3, r0
 16649 0016 FB71     		strb	r3, [r7, #7]
 559:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 560:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 16650              		.loc 1 560 0
 16651 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 16652 001a 042B     		cmp	r3, #4
 16653 001c 2CD1     		bne	.L13
 561:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 562:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 563:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR |= CR_MER_Set;
 16654              		.loc 1 563 0
 16655 001e 4FF40053 		mov	r3, #8192
 16656 0022 C4F20203 		movt	r3, 16386
 16657 0026 4FF40052 		mov	r2, #8192
 16658 002a C4F20202 		movt	r2, 16386
 16659 002e 1269     		ldr	r2, [r2, #16]
 16660 0030 42F00402 		orr	r2, r2, #4
 16661 0034 1A61     		str	r2, [r3, #16]
 564:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR |= CR_STRT_Set;
 16662              		.loc 1 564 0
 16663 0036 4FF40053 		mov	r3, #8192
 16664 003a C4F20203 		movt	r3, 16386
 16665 003e 4FF40052 		mov	r2, #8192
 16666 0042 C4F20202 		movt	r2, 16386
 16667 0046 1269     		ldr	r2, [r2, #16]
 16668 0048 42F04002 		orr	r2, r2, #64
 16669 004c 1A61     		str	r2, [r3, #16]
 565:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 566:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 567:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(EraseTimeout);
 16670              		.loc 1 567 0
 16671 004e 4FF43020 		mov	r0, #720896
 16672 0052 FFF7FEFF 		bl	FLASH_WaitForLastBank1Operation
 16673 0056 0346     		mov	r3, r0
 16674 0058 FB71     		strb	r3, [r7, #7]
 568:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 569:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 570:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR &= CR_MER_Reset;
 16675              		.loc 1 570 0
 16676 005a 4FF40053 		mov	r3, #8192
 16677 005e C4F20203 		movt	r3, 16386
 16678 0062 4FF40052 		mov	r2, #8192
 16679 0066 C4F20202 		movt	r2, 16386
 16680 006a 1269     		ldr	r2, [r2, #16]
 16681 006c 1146     		mov	r1, r2
 16682 006e 41F6FB72 		movw	r2, #8187
 16683 0072 01EA0202 		and	r2, r1, r2
 16684 0076 1A61     		str	r2, [r3, #16]
 16685              	.L13:
 571:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }    
 572:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 573:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 16686              		.loc 1 573 0
 16687 0078 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 574:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16688              		.loc 1 574 0
 16689 007a 1846     		mov	r0, r3
 16690 007c 07F10807 		add	r7, r7, #8
 16691 0080 BD46     		mov	sp, r7
 16692 0082 80BD     		pop	{r7, pc}
 16693              		.cfi_endproc
 16694              	.LFE38:
 16696              		.section	.text.FLASH_EraseOptionBytes,"ax",%progbits
 16697              		.align	2
 16698              		.global	FLASH_EraseOptionBytes
 16699              		.thumb
 16700              		.thumb_func
 16702              	FLASH_EraseOptionBytes:
 16703              	.LFB39:
 575:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 576:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 577:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 578:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Erases all Bank2 FLASH pages.
 579:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10x_XL density devices.
 580:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 581:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 582:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 583:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 584:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseAllBank2Pages(void)
 585:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 586:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 587:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 588:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 589:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 590:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 591:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 592:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase all pages */
 593:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_MER_Set;
 594:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      FLASH->CR2 |= CR_STRT_Set;
 595:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 596:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 597:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(EraseTimeout);
 598:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 599:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Disable the MER Bit */
 600:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR2 &= CR_MER_Reset;
 601:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }    
 602:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Erase Status */
 603:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 604:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 605:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 606:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 607:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 608:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Erases the FLASH option bytes.
 609:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This functions erases all option bytes except the Read protection (RDP). 
 610:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 611:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
 612:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 613:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 614:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 615:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_EraseOptionBytes(void)
 616:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16704              		.loc 1 616 0
 16705              		.cfi_startproc
 16706              		@ args = 0, pretend = 0, frame = 8
 16707              		@ frame_needed = 1, uses_anonymous_args = 0
 16708 0000 80B5     		push	{r7, lr}
 16709              	.LCFI26:
 16710              		.cfi_def_cfa_offset 8
 16711 0002 82B0     		sub	sp, sp, #8
 16712              	.LCFI27:
 16713              		.cfi_def_cfa_offset 16
 16714 0004 00AF     		add	r7, sp, #0
 16715              		.cfi_offset 14, -4
 16716              		.cfi_offset 7, -8
 16717              	.LCFI28:
 16718              		.cfi_def_cfa_register 7
 617:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   uint16_t rdptmp = RDP_Key;
 16719              		.loc 1 617 0
 16720 0006 4FF0A503 		mov	r3, #165
 16721 000a FB80     		strh	r3, [r7, #6]	@ movhi
 618:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 619:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 16722              		.loc 1 619 0
 16723 000c 4FF00403 		mov	r3, #4
 16724 0010 7B71     		strb	r3, [r7, #5]
 620:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 621:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Get the actual read protection Option Byte value */ 
 622:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(FLASH_GetReadOutProtectionStatus() != RESET)
 16725              		.loc 1 622 0
 16726 0012 FFF7FEFF 		bl	FLASH_GetReadOutProtectionStatus
 16727 0016 0346     		mov	r3, r0
 16728 0018 002B     		cmp	r3, #0
 16729 001a 02D0     		beq	.L15
 623:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 624:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     rdptmp = 0x00;  
 16730              		.loc 1 624 0
 16731 001c 4FF00003 		mov	r3, #0
 16732 0020 FB80     		strh	r3, [r7, #6]	@ movhi
 16733              	.L15:
 625:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 626:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 627:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 628:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 16734              		.loc 1 628 0
 16735 0022 4FF43020 		mov	r0, #720896
 16736 0026 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16737 002a 0346     		mov	r3, r0
 16738 002c 7B71     		strb	r3, [r7, #5]
 629:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 16739              		.loc 1 629 0
 16740 002e 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 16741 0030 042B     		cmp	r3, #4
 16742 0032 7ED1     		bne	.L16
 630:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 631:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Authorize the small information block programming */
 632:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 16743              		.loc 1 632 0
 16744 0034 4FF40053 		mov	r3, #8192
 16745 0038 C4F20203 		movt	r3, 16386
 16746 003c 40F22312 		movw	r2, #291
 16747 0040 C4F26752 		movt	r2, 17767
 16748 0044 9A60     		str	r2, [r3, #8]
 633:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 16749              		.loc 1 633 0
 16750 0046 4FF40053 		mov	r3, #8192
 16751 004a C4F20203 		movt	r3, 16386
 16752 004e 48F6AB12 		movw	r2, #35243
 16753 0052 CCF6EF52 		movt	r2, 52719
 16754 0056 9A60     		str	r2, [r3, #8]
 634:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 635:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to erase the option bytes */
 636:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTER_Set;
 16755              		.loc 1 636 0
 16756 0058 4FF40053 		mov	r3, #8192
 16757 005c C4F20203 		movt	r3, 16386
 16758 0060 4FF40052 		mov	r2, #8192
 16759 0064 C4F20202 		movt	r2, 16386
 16760 0068 1269     		ldr	r2, [r2, #16]
 16761 006a 42F02002 		orr	r2, r2, #32
 16762 006e 1A61     		str	r2, [r3, #16]
 637:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_STRT_Set;
 16763              		.loc 1 637 0
 16764 0070 4FF40053 		mov	r3, #8192
 16765 0074 C4F20203 		movt	r3, 16386
 16766 0078 4FF40052 		mov	r2, #8192
 16767 007c C4F20202 		movt	r2, 16386
 16768 0080 1269     		ldr	r2, [r2, #16]
 16769 0082 42F04002 		orr	r2, r2, #64
 16770 0086 1A61     		str	r2, [r3, #16]
 638:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 639:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 16771              		.loc 1 639 0
 16772 0088 4FF43020 		mov	r0, #720896
 16773 008c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16774 0090 0346     		mov	r3, r0
 16775 0092 7B71     		strb	r3, [r7, #5]
 640:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 641:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 16776              		.loc 1 641 0
 16777 0094 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 16778 0096 042B     		cmp	r3, #4
 16779 0098 39D1     		bne	.L17
 642:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 643:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the OPTER Bit */
 644:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTER_Reset;
 16780              		.loc 1 644 0
 16781 009a 4FF40053 		mov	r3, #8192
 16782 009e C4F20203 		movt	r3, 16386
 16783 00a2 4FF40052 		mov	r2, #8192
 16784 00a6 C4F20202 		movt	r2, 16386
 16785 00aa 1269     		ldr	r2, [r2, #16]
 16786 00ac 1146     		mov	r1, r2
 16787 00ae 41F6DF72 		movw	r2, #8159
 16788 00b2 01EA0202 		and	r2, r1, r2
 16789 00b6 1A61     		str	r2, [r3, #16]
 645:../target/stm32/stdperiph/src/stm32f10x_flash.c ****        
 646:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Enable the Option Bytes Programming operation */
 647:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set;
 16790              		.loc 1 647 0
 16791 00b8 4FF40053 		mov	r3, #8192
 16792 00bc C4F20203 		movt	r3, 16386
 16793 00c0 4FF40052 		mov	r2, #8192
 16794 00c4 C4F20202 		movt	r2, 16386
 16795 00c8 1269     		ldr	r2, [r2, #16]
 16796 00ca 42F01002 		orr	r2, r2, #16
 16797 00ce 1A61     		str	r2, [r3, #16]
 648:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Restore the last read protection Option Byte value */
 649:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       OB->RDP = (uint16_t)rdptmp; 
 16798              		.loc 1 649 0
 16799 00d0 4FF47843 		mov	r3, #63488
 16800 00d4 C1F6FF73 		movt	r3, 8191
 16801 00d8 FA88     		ldrh	r2, [r7, #6]	@ movhi
 16802 00da 1A80     		strh	r2, [r3, #0]	@ movhi
 650:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 651:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 16803              		.loc 1 651 0
 16804 00dc 4FF40050 		mov	r0, #8192
 16805 00e0 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16806 00e4 0346     		mov	r3, r0
 16807 00e6 7B71     		strb	r3, [r7, #5]
 652:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  
 653:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 16808              		.loc 1 653 0
 16809 00e8 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 16810 00ea 052B     		cmp	r3, #5
 16811 00ec 21D0     		beq	.L16
 654:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
 655:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* if the program operation is completed, disable the OPTPG Bit */
 656:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 16812              		.loc 1 656 0
 16813 00ee 4FF40053 		mov	r3, #8192
 16814 00f2 C4F20203 		movt	r3, 16386
 16815 00f6 4FF40052 		mov	r2, #8192
 16816 00fa C4F20202 		movt	r2, 16386
 16817 00fe 1269     		ldr	r2, [r2, #16]
 16818 0100 1146     		mov	r1, r2
 16819 0102 41F6EF72 		movw	r2, #8175
 16820 0106 01EA0202 		and	r2, r1, r2
 16821 010a 1A61     		str	r2, [r3, #16]
 16822 010c 11E0     		b	.L16
 16823              	.L17:
 657:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
 658:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 659:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
 660:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 661:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if (status != FLASH_TIMEOUT)
 16824              		.loc 1 661 0
 16825 010e 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 16826 0110 052B     		cmp	r3, #5
 16827 0112 0ED0     		beq	.L16
 662:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
 663:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* Disable the OPTPG Bit */
 664:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 16828              		.loc 1 664 0
 16829 0114 4FF40053 		mov	r3, #8192
 16830 0118 C4F20203 		movt	r3, 16386
 16831 011c 4FF40052 		mov	r2, #8192
 16832 0120 C4F20202 		movt	r2, 16386
 16833 0124 1269     		ldr	r2, [r2, #16]
 16834 0126 1146     		mov	r1, r2
 16835 0128 41F6EF72 		movw	r2, #8175
 16836 012c 01EA0202 		and	r2, r1, r2
 16837 0130 1A61     		str	r2, [r3, #16]
 16838              	.L16:
 665:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
 666:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }  
 667:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 668:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the erase status */
 669:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 16839              		.loc 1 669 0
 16840 0132 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 670:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16841              		.loc 1 670 0
 16842 0134 1846     		mov	r0, r3
 16843 0136 07F10807 		add	r7, r7, #8
 16844 013a BD46     		mov	sp, r7
 16845 013c 80BD     		pop	{r7, pc}
 16846              		.cfi_endproc
 16847              	.LFE39:
 16849 013e 00BF     		.section	.text.FLASH_ProgramWord,"ax",%progbits
 16850              		.align	2
 16851              		.global	FLASH_ProgramWord
 16852              		.thumb
 16853              		.thumb_func
 16855              	FLASH_ProgramWord:
 16856              	.LFB40:
 671:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 672:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 673:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Programs a word at a specified address.
 674:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 675:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 676:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 677:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 678:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 679:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 680:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramWord(uint32_t Address, uint32_t Data)
 681:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16857              		.loc 1 681 0
 16858              		.cfi_startproc
 16859              		@ args = 0, pretend = 0, frame = 16
 16860              		@ frame_needed = 1, uses_anonymous_args = 0
 16861 0000 80B5     		push	{r7, lr}
 16862              	.LCFI29:
 16863              		.cfi_def_cfa_offset 8
 16864 0002 84B0     		sub	sp, sp, #16
 16865              	.LCFI30:
 16866              		.cfi_def_cfa_offset 24
 16867 0004 00AF     		add	r7, sp, #0
 16868              		.cfi_offset 14, -4
 16869              		.cfi_offset 7, -8
 16870              	.LCFI31:
 16871              		.cfi_def_cfa_register 7
 16872 0006 7860     		str	r0, [r7, #4]
 16873 0008 3960     		str	r1, [r7, #0]
 682:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 16874              		.loc 1 682 0
 16875 000a 4FF00403 		mov	r3, #4
 16876 000e FB73     		strb	r3, [r7, #15]
 683:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   __IO uint32_t tmp = 0;
 16877              		.loc 1 683 0
 16878 0010 4FF00003 		mov	r3, #0
 16879 0014 BB60     		str	r3, [r7, #8]
 684:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 685:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
 686:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Address));
 687:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 688:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 689:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(Address < FLASH_BANK1_END_ADDRESS - 2)
 690:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   { 
 691:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 692:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(ProgramTimeout); 
 693:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 694:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 695:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 696:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         half word */
 697:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 698:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 699:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 700:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 701:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 702:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  
 703:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if(status == FLASH_COMPLETE)
 704:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
 705:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* if the previous operation is completed, proceed to program the new second 
 706:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         half word */
 707:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         tmp = Address + 2;
 708:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 709:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         *(__IO uint16_t*) tmp = Data >> 16;
 710:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 711:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* Wait for last operation to be completed */
 712:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         status = FLASH_WaitForLastOperation(ProgramTimeout);
 713:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         
 714:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 715:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 716:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
 717:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       else
 718:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
 719:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 720:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         FLASH->CR &= CR_PG_Reset;
 721:../target/stm32/stdperiph/src/stm32f10x_flash.c ****        }
 722:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 723:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 724:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else if(Address == (FLASH_BANK1_END_ADDRESS - 1))
 725:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 726:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 727:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 728:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 729:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 730:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 731:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 732:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         half word */
 733:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 734:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 735:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 736:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 737:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 738:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 739:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       
 740:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 	  /* Disable the PG Bit */
 741:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 742:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 743:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
 744:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 745:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 746:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 747:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 748:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 749:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 750:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 751:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 752:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 753:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 754:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new second 
 755:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       half word */
 756:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 757:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       tmp = Address + 2;
 758:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 759:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       *(__IO uint16_t*) tmp = Data >> 16;
 760:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 761:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 762:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 763:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         
 764:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 765:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_PG_Reset;
 766:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 767:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
 768:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 769:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 770:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_PG_Reset;
 771:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 772:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 773:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
 774:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 775:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 776:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 777:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 778:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 779:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 780:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new first 
 781:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         half word */
 782:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 783:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 784:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = (uint16_t)Data;
 785:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 786:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 787:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  
 788:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if(status == FLASH_COMPLETE)
 789:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
 790:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* if the previous operation is completed, proceed to program the new second 
 791:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         half word */
 792:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         tmp = Address + 2;
 793:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 794:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         *(__IO uint16_t*) tmp = Data >> 16;
 795:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 796:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* Wait for last operation to be completed */
 797:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 798:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         
 799:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 800:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         FLASH->CR2 &= CR_PG_Reset;
 801:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
 802:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       else
 803:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
 804:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* Disable the PG Bit */
 805:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         FLASH->CR2 &= CR_PG_Reset;
 806:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
 807:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 808:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 809:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #else
 810:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 811:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 16880              		.loc 1 811 0
 16881 0016 4FF40050 		mov	r0, #8192
 16882 001a FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16883 001e 0346     		mov	r3, r0
 16884 0020 FB73     		strb	r3, [r7, #15]
 812:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 813:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 16885              		.loc 1 813 0
 16886 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 16887 0024 042B     		cmp	r3, #4
 16888 0026 47D1     		bne	.L19
 814:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 815:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to program the new first 
 816:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     half word */
 817:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 16889              		.loc 1 817 0
 16890 0028 4FF40053 		mov	r3, #8192
 16891 002c C4F20203 		movt	r3, 16386
 16892 0030 4FF40052 		mov	r2, #8192
 16893 0034 C4F20202 		movt	r2, 16386
 16894 0038 1269     		ldr	r2, [r2, #16]
 16895 003a 42F00102 		orr	r2, r2, #1
 16896 003e 1A61     		str	r2, [r3, #16]
 818:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 819:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = (uint16_t)Data;
 16897              		.loc 1 819 0
 16898 0040 7B68     		ldr	r3, [r7, #4]
 16899 0042 3A68     		ldr	r2, [r7, #0]
 16900 0044 92B2     		uxth	r2, r2
 16901 0046 1A80     		strh	r2, [r3, #0]	@ movhi
 820:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 821:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 16902              		.loc 1 821 0
 16903 0048 4FF40050 		mov	r0, #8192
 16904 004c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16905 0050 0346     		mov	r3, r0
 16906 0052 FB73     		strb	r3, [r7, #15]
 822:../target/stm32/stdperiph/src/stm32f10x_flash.c ****  
 823:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 16907              		.loc 1 823 0
 16908 0054 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 16909 0056 042B     		cmp	r3, #4
 16910 0058 1FD1     		bne	.L20
 824:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 825:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new second 
 826:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       half word */
 827:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       tmp = Address + 2;
 16911              		.loc 1 827 0
 16912 005a 7B68     		ldr	r3, [r7, #4]
 16913 005c 03F10203 		add	r3, r3, #2
 16914 0060 BB60     		str	r3, [r7, #8]
 828:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 829:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       *(__IO uint16_t*) tmp = Data >> 16;
 16915              		.loc 1 829 0
 16916 0062 BB68     		ldr	r3, [r7, #8]
 16917 0064 3A68     		ldr	r2, [r7, #0]
 16918 0066 4FEA1242 		lsr	r2, r2, #16
 16919 006a 92B2     		uxth	r2, r2
 16920 006c 1A80     		strh	r2, [r3, #0]	@ movhi
 830:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 831:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 832:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 16921              		.loc 1 832 0
 16922 006e 4FF40050 		mov	r0, #8192
 16923 0072 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16924 0076 0346     		mov	r3, r0
 16925 0078 FB73     		strb	r3, [r7, #15]
 833:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         
 834:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 835:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 16926              		.loc 1 835 0
 16927 007a 4FF40053 		mov	r3, #8192
 16928 007e C4F20203 		movt	r3, 16386
 16929 0082 4FF40052 		mov	r2, #8192
 16930 0086 C4F20202 		movt	r2, 16386
 16931 008a 1269     		ldr	r2, [r2, #16]
 16932 008c 1146     		mov	r1, r2
 16933 008e 41F6FE72 		movw	r2, #8190
 16934 0092 01EA0202 		and	r2, r1, r2
 16935 0096 1A61     		str	r2, [r3, #16]
 16936 0098 0EE0     		b	.L19
 16937              	.L20:
 836:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 837:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
 838:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 839:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 840:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 16938              		.loc 1 840 0
 16939 009a 4FF40053 		mov	r3, #8192
 16940 009e C4F20203 		movt	r3, 16386
 16941 00a2 4FF40052 		mov	r2, #8192
 16942 00a6 C4F20202 		movt	r2, 16386
 16943 00aa 1269     		ldr	r2, [r2, #16]
 16944 00ac 1146     		mov	r1, r2
 16945 00ae 41F6FE72 		movw	r2, #8190
 16946 00b2 01EA0202 		and	r2, r1, r2
 16947 00b6 1A61     		str	r2, [r3, #16]
 16948              	.L19:
 841:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 842:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }         
 843:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
 844:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    
 845:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Program Status */
 846:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 16949              		.loc 1 846 0
 16950 00b8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 847:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 16951              		.loc 1 847 0
 16952 00ba 1846     		mov	r0, r3
 16953 00bc 07F11007 		add	r7, r7, #16
 16954 00c0 BD46     		mov	sp, r7
 16955 00c2 80BD     		pop	{r7, pc}
 16956              		.cfi_endproc
 16957              	.LFE40:
 16959              		.section	.text.FLASH_ProgramHalfWord,"ax",%progbits
 16960              		.align	2
 16961              		.global	FLASH_ProgramHalfWord
 16962              		.thumb
 16963              		.thumb_func
 16965              	FLASH_ProgramHalfWord:
 16966              	.LFB41:
 848:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 849:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 850:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Programs a half word at a specified address.
 851:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 852:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 853:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 854:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 855:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 856:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 857:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramHalfWord(uint32_t Address, uint16_t Data)
 858:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 16967              		.loc 1 858 0
 16968              		.cfi_startproc
 16969              		@ args = 0, pretend = 0, frame = 16
 16970              		@ frame_needed = 1, uses_anonymous_args = 0
 16971 0000 80B5     		push	{r7, lr}
 16972              	.LCFI32:
 16973              		.cfi_def_cfa_offset 8
 16974 0002 84B0     		sub	sp, sp, #16
 16975              	.LCFI33:
 16976              		.cfi_def_cfa_offset 24
 16977 0004 00AF     		add	r7, sp, #0
 16978              		.cfi_offset 14, -4
 16979              		.cfi_offset 7, -8
 16980              	.LCFI34:
 16981              		.cfi_def_cfa_register 7
 16982 0006 7860     		str	r0, [r7, #4]
 16983 0008 0B46     		mov	r3, r1
 16984 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 859:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 16985              		.loc 1 859 0
 16986 000c 4FF00403 		mov	r3, #4
 16987 0010 FB73     		strb	r3, [r7, #15]
 860:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
 861:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_ADDRESS(Address));
 862:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 863:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
 864:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 865:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 866:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 867:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(Address < FLASH_BANK1_END_ADDRESS)
 868:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 869:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 870:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 871:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new data */
 872:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR |= CR_PG_Set;
 873:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 874:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = Data;
 875:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 876:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank1Operation(ProgramTimeout);
 877:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 878:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 879:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_PG_Reset;
 880:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 881:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 882:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
 883:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 884:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 885:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 886:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the previous operation is completed, proceed to program the new data */
 887:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 |= CR_PG_Set;
 888:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 889:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       *(__IO uint16_t*)Address = Data;
 890:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
 891:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastBank2Operation(ProgramTimeout);
 892:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 893:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the PG Bit */
 894:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 &= CR_PG_Reset;
 895:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 896:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 897:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #else
 898:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 899:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 16988              		.loc 1 899 0
 16989 0012 4FF40050 		mov	r0, #8192
 16990 0016 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 16991 001a 0346     		mov	r3, r0
 16992 001c FB73     		strb	r3, [r7, #15]
 900:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 901:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 16993              		.loc 1 901 0
 16994 001e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 16995 0020 042B     		cmp	r3, #4
 16996 0022 23D1     		bne	.L22
 902:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 903:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* if the previous operation is completed, proceed to program the new data */
 904:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_PG_Set;
 16997              		.loc 1 904 0
 16998 0024 4FF40053 		mov	r3, #8192
 16999 0028 C4F20203 		movt	r3, 16386
 17000 002c 4FF40052 		mov	r2, #8192
 17001 0030 C4F20202 		movt	r2, 16386
 17002 0034 1269     		ldr	r2, [r2, #16]
 17003 0036 42F00102 		orr	r2, r2, #1
 17004 003a 1A61     		str	r2, [r3, #16]
 905:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 906:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = Data;
 17005              		.loc 1 906 0
 17006 003c 7B68     		ldr	r3, [r7, #4]
 17007 003e 7A88     		ldrh	r2, [r7, #2]	@ movhi
 17008 0040 1A80     		strh	r2, [r3, #0]	@ movhi
 907:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 908:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 17009              		.loc 1 908 0
 17010 0042 4FF40050 		mov	r0, #8192
 17011 0046 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17012 004a 0346     		mov	r3, r0
 17013 004c FB73     		strb	r3, [r7, #15]
 909:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 910:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Disable the PG Bit */
 911:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR &= CR_PG_Reset;
 17014              		.loc 1 911 0
 17015 004e 4FF40053 		mov	r3, #8192
 17016 0052 C4F20203 		movt	r3, 16386
 17017 0056 4FF40052 		mov	r2, #8192
 17018 005a C4F20202 		movt	r2, 16386
 17019 005e 1269     		ldr	r2, [r2, #16]
 17020 0060 1146     		mov	r1, r2
 17021 0062 41F6FE72 		movw	r2, #8190
 17022 0066 01EA0202 		and	r2, r1, r2
 17023 006a 1A61     		str	r2, [r3, #16]
 17024              	.L22:
 912:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   } 
 913:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif  /* STM32F10X_XL */
 914:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 915:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Program Status */
 916:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 17025              		.loc 1 916 0
 17026 006c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 917:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17027              		.loc 1 917 0
 17028 006e 1846     		mov	r0, r3
 17029 0070 07F11007 		add	r7, r7, #16
 17030 0074 BD46     		mov	sp, r7
 17031 0076 80BD     		pop	{r7, pc}
 17032              		.cfi_endproc
 17033              	.LFE41:
 17035              		.section	.text.FLASH_ProgramOptionByteData,"ax",%progbits
 17036              		.align	2
 17037              		.global	FLASH_ProgramOptionByteData
 17038              		.thumb
 17039              		.thumb_func
 17041              	FLASH_ProgramOptionByteData:
 17042              	.LFB42:
 918:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 919:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 920:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Programs a half word at a specified Option Byte Data address.
 921:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 922:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Address: specifies the address to be programmed.
 923:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be 0x1FFFF804 or 0x1FFFF806. 
 924:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Data: specifies the data to be programmed.
 925:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 926:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT. 
 927:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 928:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_ProgramOptionByteData(uint32_t Address, uint8_t Data)
 929:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17043              		.loc 1 929 0
 17044              		.cfi_startproc
 17045              		@ args = 0, pretend = 0, frame = 16
 17046              		@ frame_needed = 1, uses_anonymous_args = 0
 17047 0000 80B5     		push	{r7, lr}
 17048              	.LCFI35:
 17049              		.cfi_def_cfa_offset 8
 17050 0002 84B0     		sub	sp, sp, #16
 17051              	.LCFI36:
 17052              		.cfi_def_cfa_offset 24
 17053 0004 00AF     		add	r7, sp, #0
 17054              		.cfi_offset 14, -4
 17055              		.cfi_offset 7, -8
 17056              	.LCFI37:
 17057              		.cfi_def_cfa_register 7
 17058 0006 7860     		str	r0, [r7, #4]
 17059 0008 0B46     		mov	r3, r1
 17060 000a FB70     		strb	r3, [r7, #3]
 930:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 17061              		.loc 1 930 0
 17062 000c 4FF00403 		mov	r3, #4
 17063 0010 FB73     		strb	r3, [r7, #15]
 931:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
 932:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_OB_DATA_ADDRESS(Address));
 933:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 17064              		.loc 1 933 0
 17065 0012 4FF40050 		mov	r0, #8192
 17066 0016 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17067 001a 0346     		mov	r3, r0
 17068 001c FB73     		strb	r3, [r7, #15]
 934:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 935:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 17069              		.loc 1 935 0
 17070 001e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 17071 0020 042B     		cmp	r3, #4
 17072 0022 39D1     		bne	.L24
 936:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 937:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Authorize the small information block programming */
 938:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 17073              		.loc 1 938 0
 17074 0024 4FF40053 		mov	r3, #8192
 17075 0028 C4F20203 		movt	r3, 16386
 17076 002c 40F22312 		movw	r2, #291
 17077 0030 C4F26752 		movt	r2, 17767
 17078 0034 9A60     		str	r2, [r3, #8]
 939:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 17079              		.loc 1 939 0
 17080 0036 4FF40053 		mov	r3, #8192
 17081 003a C4F20203 		movt	r3, 16386
 17082 003e 48F6AB12 		movw	r2, #35243
 17083 0042 CCF6EF52 		movt	r2, 52719
 17084 0046 9A60     		str	r2, [r3, #8]
 940:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Enables the Option Bytes Programming operation */
 941:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
 17085              		.loc 1 941 0
 17086 0048 4FF40053 		mov	r3, #8192
 17087 004c C4F20203 		movt	r3, 16386
 17088 0050 4FF40052 		mov	r2, #8192
 17089 0054 C4F20202 		movt	r2, 16386
 17090 0058 1269     		ldr	r2, [r2, #16]
 17091 005a 42F01002 		orr	r2, r2, #16
 17092 005e 1A61     		str	r2, [r3, #16]
 942:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     *(__IO uint16_t*)Address = Data;
 17093              		.loc 1 942 0
 17094 0060 7B68     		ldr	r3, [r7, #4]
 17095 0062 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 17096 0064 92B2     		uxth	r2, r2
 17097 0066 1A80     		strh	r2, [r3, #0]	@ movhi
 943:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
 944:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
 945:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 17098              		.loc 1 945 0
 17099 0068 4FF40050 		mov	r0, #8192
 17100 006c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17101 0070 0346     		mov	r3, r0
 17102 0072 FB73     		strb	r3, [r7, #15]
 946:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 17103              		.loc 1 946 0
 17104 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 17105 0076 052B     		cmp	r3, #5
 17106 0078 0ED0     		beq	.L24
 947:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
 948:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
 949:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 17107              		.loc 1 949 0
 17108 007a 4FF40053 		mov	r3, #8192
 17109 007e C4F20203 		movt	r3, 16386
 17110 0082 4FF40052 		mov	r2, #8192
 17111 0086 C4F20202 		movt	r2, 16386
 17112 008a 1269     		ldr	r2, [r2, #16]
 17113 008c 1146     		mov	r1, r2
 17114 008e 41F6EF72 		movw	r2, #8175
 17115 0092 01EA0202 		and	r2, r1, r2
 17116 0096 1A61     		str	r2, [r3, #16]
 17117              	.L24:
 950:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
 951:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
 952:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Option Byte Data Program Status */
 953:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 17118              		.loc 1 953 0
 17119 0098 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 954:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17120              		.loc 1 954 0
 17121 009a 1846     		mov	r0, r3
 17122 009c 07F11007 		add	r7, r7, #16
 17123 00a0 BD46     		mov	sp, r7
 17124 00a2 80BD     		pop	{r7, pc}
 17125              		.cfi_endproc
 17126              	.LFE42:
 17128              		.section	.text.FLASH_EnableWriteProtection,"ax",%progbits
 17129              		.align	2
 17130              		.global	FLASH_EnableWriteProtection
 17131              		.thumb
 17132              		.thumb_func
 17134              	FLASH_EnableWriteProtection:
 17135              	.LFB43:
 955:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
 956:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
 957:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Write protects the desired pages
 958:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
 959:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  FLASH_Pages: specifies the address of the pages to be write protected.
 960:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be:
 961:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Low-density_devices: value between FLASH_WRProt_Pages0to3 and FLASH_WRPro
 962:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Medium-density_devices: value between FLASH_WRProt_Pages0to3
 963:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *       and FLASH_WRProt_Pages124to127
 964:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg For @b STM32_High-density_devices: value between FLASH_WRProt_Pages0to1 and
 965:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to255
 966:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg For @b STM32_Connectivity_line_devices: value between FLASH_WRProt_Pages0to1 and
 967:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to127    
 968:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg For @b STM32_XL-density_devices: value between FLASH_WRProt_Pages0to1 and
 969:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *       FLASH_WRProt_Pages60to61 or FLASH_WRProt_Pages62to511
 970:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_WRProt_AllPages
 971:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
 972:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
 973:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
 974:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_EnableWriteProtection(uint32_t FLASH_Pages)
 975:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17136              		.loc 1 975 0
 17137              		.cfi_startproc
 17138              		@ args = 0, pretend = 0, frame = 24
 17139              		@ frame_needed = 1, uses_anonymous_args = 0
 17140 0000 80B5     		push	{r7, lr}
 17141              	.LCFI38:
 17142              		.cfi_def_cfa_offset 8
 17143 0002 86B0     		sub	sp, sp, #24
 17144              	.LCFI39:
 17145              		.cfi_def_cfa_offset 32
 17146 0004 00AF     		add	r7, sp, #0
 17147              		.cfi_offset 14, -4
 17148              		.cfi_offset 7, -8
 17149              	.LCFI40:
 17150              		.cfi_def_cfa_register 7
 17151 0006 7860     		str	r0, [r7, #4]
 976:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   uint16_t WRP0_Data = 0xFFFF, WRP1_Data = 0xFFFF, WRP2_Data = 0xFFFF, WRP3_Data = 0xFFFF;
 17152              		.loc 1 976 0
 17153 0008 4FF6FF73 		movw	r3, #65535
 17154 000c BB82     		strh	r3, [r7, #20]	@ movhi
 17155 000e 4FF6FF73 		movw	r3, #65535
 17156 0012 7B82     		strh	r3, [r7, #18]	@ movhi
 17157 0014 4FF6FF73 		movw	r3, #65535
 17158 0018 3B82     		strh	r3, [r7, #16]	@ movhi
 17159 001a 4FF6FF73 		movw	r3, #65535
 17160 001e FB81     		strh	r3, [r7, #14]	@ movhi
 977:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 978:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 17161              		.loc 1 978 0
 17162 0020 4FF00403 		mov	r3, #4
 17163 0024 FB75     		strb	r3, [r7, #23]
 979:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 980:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
 981:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_WRPROT_PAGE(FLASH_Pages));
 982:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 983:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Pages = (uint32_t)(~FLASH_Pages);
 17164              		.loc 1 983 0
 17165 0026 7B68     		ldr	r3, [r7, #4]
 17166 0028 6FEA0303 		mvn	r3, r3
 17167 002c 7B60     		str	r3, [r7, #4]
 984:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   WRP0_Data = (uint16_t)(FLASH_Pages & WRP0_Mask);
 17168              		.loc 1 984 0
 17169 002e 7B68     		ldr	r3, [r7, #4]
 17170 0030 9BB2     		uxth	r3, r3
 17171 0032 03F0FF03 		and	r3, r3, #255
 17172 0036 BB82     		strh	r3, [r7, #20]	@ movhi
 985:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   WRP1_Data = (uint16_t)((FLASH_Pages & WRP1_Mask) >> 8);
 17173              		.loc 1 985 0
 17174 0038 7B68     		ldr	r3, [r7, #4]
 17175 003a 03F47F43 		and	r3, r3, #65280
 17176 003e 4FEA1323 		lsr	r3, r3, #8
 17177 0042 7B82     		strh	r3, [r7, #18]	@ movhi
 986:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   WRP2_Data = (uint16_t)((FLASH_Pages & WRP2_Mask) >> 16);
 17178              		.loc 1 986 0
 17179 0044 7B68     		ldr	r3, [r7, #4]
 17180 0046 03F47F03 		and	r3, r3, #16711680
 17181 004a 4FEA1343 		lsr	r3, r3, #16
 17182 004e 3B82     		strh	r3, [r7, #16]	@ movhi
 987:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   WRP3_Data = (uint16_t)((FLASH_Pages & WRP3_Mask) >> 24);
 17183              		.loc 1 987 0
 17184 0050 7B68     		ldr	r3, [r7, #4]
 17185 0052 4FEA1363 		lsr	r3, r3, #24
 17186 0056 FB81     		strh	r3, [r7, #14]	@ movhi
 988:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 989:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
 990:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 17187              		.loc 1 990 0
 17188 0058 4FF40050 		mov	r0, #8192
 17189 005c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17190 0060 0346     		mov	r3, r0
 17191 0062 FB75     		strb	r3, [r7, #23]
 991:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
 992:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 17192              		.loc 1 992 0
 17193 0064 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 17194 0066 042B     		cmp	r3, #4
 17195 0068 74D1     		bne	.L26
 993:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
 994:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Authorizes the small information block programming */
 995:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 17196              		.loc 1 995 0
 17197 006a 4FF40053 		mov	r3, #8192
 17198 006e C4F20203 		movt	r3, 16386
 17199 0072 40F22312 		movw	r2, #291
 17200 0076 C4F26752 		movt	r2, 17767
 17201 007a 9A60     		str	r2, [r3, #8]
 996:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 17202              		.loc 1 996 0
 17203 007c 4FF40053 		mov	r3, #8192
 17204 0080 C4F20203 		movt	r3, 16386
 17205 0084 48F6AB12 		movw	r2, #35243
 17206 0088 CCF6EF52 		movt	r2, 52719
 17207 008c 9A60     		str	r2, [r3, #8]
 997:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set;
 17208              		.loc 1 997 0
 17209 008e 4FF40053 		mov	r3, #8192
 17210 0092 C4F20203 		movt	r3, 16386
 17211 0096 4FF40052 		mov	r2, #8192
 17212 009a C4F20202 		movt	r2, 16386
 17213 009e 1269     		ldr	r2, [r2, #16]
 17214 00a0 42F01002 		orr	r2, r2, #16
 17215 00a4 1A61     		str	r2, [r3, #16]
 998:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(WRP0_Data != 0xFF)
 17216              		.loc 1 998 0
 17217 00a6 BB8A     		ldrh	r3, [r7, #20]
 17218 00a8 FF2B     		cmp	r3, #255
 17219 00aa 0BD0     		beq	.L27
 999:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1000:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       OB->WRP0 = WRP0_Data;
 17220              		.loc 1 1000 0
 17221 00ac 4FF47843 		mov	r3, #63488
 17222 00b0 C1F6FF73 		movt	r3, 8191
 17223 00b4 BA8A     		ldrh	r2, [r7, #20]	@ movhi
 17224 00b6 1A81     		strh	r2, [r3, #8]	@ movhi
1001:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       
1002:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1003:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 17225              		.loc 1 1003 0
 17226 00b8 4FF40050 		mov	r0, #8192
 17227 00bc FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17228 00c0 0346     		mov	r3, r0
 17229 00c2 FB75     		strb	r3, [r7, #23]
 17230              	.L27:
1004:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1005:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP1_Data != 0xFF))
 17231              		.loc 1 1005 0
 17232 00c4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 17233 00c6 042B     		cmp	r3, #4
 17234 00c8 0ED1     		bne	.L28
 17235              		.loc 1 1005 0 is_stmt 0 discriminator 1
 17236 00ca 7B8A     		ldrh	r3, [r7, #18]
 17237 00cc FF2B     		cmp	r3, #255
 17238 00ce 0BD0     		beq	.L28
1006:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1007:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       OB->WRP1 = WRP1_Data;
 17239              		.loc 1 1007 0 is_stmt 1
 17240 00d0 4FF47843 		mov	r3, #63488
 17241 00d4 C1F6FF73 		movt	r3, 8191
 17242 00d8 7A8A     		ldrh	r2, [r7, #18]	@ movhi
 17243 00da 5A81     		strh	r2, [r3, #10]	@ movhi
1008:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       
1009:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1010:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 17244              		.loc 1 1010 0
 17245 00dc 4FF40050 		mov	r0, #8192
 17246 00e0 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17247 00e4 0346     		mov	r3, r0
 17248 00e6 FB75     		strb	r3, [r7, #23]
 17249              	.L28:
1011:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1012:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE) && (WRP2_Data != 0xFF))
 17250              		.loc 1 1012 0
 17251 00e8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 17252 00ea 042B     		cmp	r3, #4
 17253 00ec 0ED1     		bne	.L29
 17254              		.loc 1 1012 0 is_stmt 0 discriminator 1
 17255 00ee 3B8A     		ldrh	r3, [r7, #16]
 17256 00f0 FF2B     		cmp	r3, #255
 17257 00f2 0BD0     		beq	.L29
1013:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1014:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       OB->WRP2 = WRP2_Data;
 17258              		.loc 1 1014 0 is_stmt 1
 17259 00f4 4FF47843 		mov	r3, #63488
 17260 00f8 C1F6FF73 		movt	r3, 8191
 17261 00fc 3A8A     		ldrh	r2, [r7, #16]	@ movhi
 17262 00fe 9A81     		strh	r2, [r3, #12]	@ movhi
1015:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       
1016:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1017:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 17263              		.loc 1 1017 0
 17264 0100 4FF40050 		mov	r0, #8192
 17265 0104 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17266 0108 0346     		mov	r3, r0
 17267 010a FB75     		strb	r3, [r7, #23]
 17268              	.L29:
1018:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1019:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
1020:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((status == FLASH_COMPLETE)&& (WRP3_Data != 0xFF))
 17269              		.loc 1 1020 0
 17270 010c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 17271 010e 042B     		cmp	r3, #4
 17272 0110 0ED1     		bne	.L30
 17273              		.loc 1 1020 0 is_stmt 0 discriminator 1
 17274 0112 FB89     		ldrh	r3, [r7, #14]
 17275 0114 FF2B     		cmp	r3, #255
 17276 0116 0BD0     		beq	.L30
1021:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1022:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       OB->WRP3 = WRP3_Data;
 17277              		.loc 1 1022 0 is_stmt 1
 17278 0118 4FF47843 		mov	r3, #63488
 17279 011c C1F6FF73 		movt	r3, 8191
 17280 0120 FA89     		ldrh	r2, [r7, #14]	@ movhi
 17281 0122 DA81     		strh	r2, [r3, #14]	@ movhi
1023:../target/stm32/stdperiph/src/stm32f10x_flash.c ****      
1024:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1025:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(ProgramTimeout);
 17282              		.loc 1 1025 0
 17283 0124 4FF40050 		mov	r0, #8192
 17284 0128 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17285 012c 0346     		mov	r3, r0
 17286 012e FB75     		strb	r3, [r7, #23]
 17287              	.L30:
1026:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1027:../target/stm32/stdperiph/src/stm32f10x_flash.c ****           
1028:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 17288              		.loc 1 1028 0
 17289 0130 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 17290 0132 052B     		cmp	r3, #5
 17291 0134 0ED0     		beq	.L26
1029:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1030:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1031:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 17292              		.loc 1 1031 0
 17293 0136 4FF40053 		mov	r3, #8192
 17294 013a C4F20203 		movt	r3, 16386
 17295 013e 4FF40052 		mov	r2, #8192
 17296 0142 C4F20202 		movt	r2, 16386
 17297 0146 1269     		ldr	r2, [r2, #16]
 17298 0148 1146     		mov	r1, r2
 17299 014a 41F6EF72 		movw	r2, #8175
 17300 014e 01EA0202 		and	r2, r1, r2
 17301 0152 1A61     		str	r2, [r3, #16]
 17302              	.L26:
1032:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1033:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   } 
1034:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the write protection operation Status */
1035:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;       
 17303              		.loc 1 1035 0
 17304 0154 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1036:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17305              		.loc 1 1036 0
 17306 0156 1846     		mov	r0, r3
 17307 0158 07F11807 		add	r7, r7, #24
 17308 015c BD46     		mov	sp, r7
 17309 015e 80BD     		pop	{r7, pc}
 17310              		.cfi_endproc
 17311              	.LFE43:
 17313              		.section	.text.FLASH_ReadOutProtection,"ax",%progbits
 17314              		.align	2
 17315              		.global	FLASH_ReadOutProtection
 17316              		.thumb
 17317              		.thumb_func
 17319              	FLASH_ReadOutProtection:
 17320              	.LFB44:
1037:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1038:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1039:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Enables or disables the read out protection.
1040:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   If the user has already programmed the other option bytes before calling 
1041:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   this function, he must re-program them since this function erases all option bytes.
1042:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1043:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Newstate: new state of the ReadOut Protection.
1044:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be: ENABLE or DISABLE.
1045:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1046:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1047:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1048:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_ReadOutProtection(FunctionalState NewState)
1049:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17321              		.loc 1 1049 0
 17322              		.cfi_startproc
 17323              		@ args = 0, pretend = 0, frame = 16
 17324              		@ frame_needed = 1, uses_anonymous_args = 0
 17325 0000 80B5     		push	{r7, lr}
 17326              	.LCFI41:
 17327              		.cfi_def_cfa_offset 8
 17328 0002 84B0     		sub	sp, sp, #16
 17329              	.LCFI42:
 17330              		.cfi_def_cfa_offset 24
 17331 0004 00AF     		add	r7, sp, #0
 17332              		.cfi_offset 14, -4
 17333              		.cfi_offset 7, -8
 17334              	.LCFI43:
 17335              		.cfi_def_cfa_register 7
 17336 0006 0346     		mov	r3, r0
 17337 0008 FB71     		strb	r3, [r7, #7]
1050:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 17338              		.loc 1 1050 0
 17339 000a 4FF00403 		mov	r3, #4
 17340 000e FB73     		strb	r3, [r7, #15]
1051:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
1052:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1053:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(EraseTimeout);
 17341              		.loc 1 1053 0
 17342 0010 4FF43020 		mov	r0, #720896
 17343 0014 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17344 0018 0346     		mov	r3, r0
 17345 001a FB73     		strb	r3, [r7, #15]
1054:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 17346              		.loc 1 1054 0
 17347 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 17348 001e 042B     		cmp	r3, #4
 17349 0020 40F08B80 		bne	.L32
1055:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1056:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Authorizes the small information block programming */
1057:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY1;
 17350              		.loc 1 1057 0
 17351 0024 4FF40053 		mov	r3, #8192
 17352 0028 C4F20203 		movt	r3, 16386
 17353 002c 40F22312 		movw	r2, #291
 17354 0030 C4F26752 		movt	r2, 17767
 17355 0034 9A60     		str	r2, [r3, #8]
1058:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->OPTKEYR = FLASH_KEY2;
 17356              		.loc 1 1058 0
 17357 0036 4FF40053 		mov	r3, #8192
 17358 003a C4F20203 		movt	r3, 16386
 17359 003e 48F6AB12 		movw	r2, #35243
 17360 0042 CCF6EF52 		movt	r2, 52719
 17361 0046 9A60     		str	r2, [r3, #8]
1059:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTER_Set;
 17362              		.loc 1 1059 0
 17363 0048 4FF40053 		mov	r3, #8192
 17364 004c C4F20203 		movt	r3, 16386
 17365 0050 4FF40052 		mov	r2, #8192
 17366 0054 C4F20202 		movt	r2, 16386
 17367 0058 1269     		ldr	r2, [r2, #16]
 17368 005a 42F02002 		orr	r2, r2, #32
 17369 005e 1A61     		str	r2, [r3, #16]
1060:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_STRT_Set;
 17370              		.loc 1 1060 0
 17371 0060 4FF40053 		mov	r3, #8192
 17372 0064 C4F20203 		movt	r3, 16386
 17373 0068 4FF40052 		mov	r2, #8192
 17374 006c C4F20202 		movt	r2, 16386
 17375 0070 1269     		ldr	r2, [r2, #16]
 17376 0072 42F04002 		orr	r2, r2, #64
 17377 0076 1A61     		str	r2, [r3, #16]
1061:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1062:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(EraseTimeout);
 17378              		.loc 1 1062 0
 17379 0078 4FF43020 		mov	r0, #720896
 17380 007c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17381 0080 0346     		mov	r3, r0
 17382 0082 FB73     		strb	r3, [r7, #15]
1063:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status == FLASH_COMPLETE)
 17383              		.loc 1 1063 0
 17384 0084 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 17385 0086 042B     		cmp	r3, #4
 17386 0088 45D1     		bne	.L33
1064:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1065:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the erase operation is completed, disable the OPTER Bit */
1066:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTER_Reset;
 17387              		.loc 1 1066 0
 17388 008a 4FF40053 		mov	r3, #8192
 17389 008e C4F20203 		movt	r3, 16386
 17390 0092 4FF40052 		mov	r2, #8192
 17391 0096 C4F20202 		movt	r2, 16386
 17392 009a 1269     		ldr	r2, [r2, #16]
 17393 009c 1146     		mov	r1, r2
 17394 009e 41F6DF72 		movw	r2, #8159
 17395 00a2 01EA0202 		and	r2, r1, r2
 17396 00a6 1A61     		str	r2, [r3, #16]
1067:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Enable the Option Bytes Programming operation */
1068:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR |= CR_OPTPG_Set; 
 17397              		.loc 1 1068 0
 17398 00a8 4FF40053 		mov	r3, #8192
 17399 00ac C4F20203 		movt	r3, 16386
 17400 00b0 4FF40052 		mov	r2, #8192
 17401 00b4 C4F20202 		movt	r2, 16386
 17402 00b8 1269     		ldr	r2, [r2, #16]
 17403 00ba 42F01002 		orr	r2, r2, #16
 17404 00be 1A61     		str	r2, [r3, #16]
1069:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if(NewState != DISABLE)
 17405              		.loc 1 1069 0
 17406 00c0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 17407 00c2 002B     		cmp	r3, #0
 17408 00c4 07D0     		beq	.L34
1070:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1071:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         OB->RDP = 0x00;
 17409              		.loc 1 1071 0
 17410 00c6 4FF47843 		mov	r3, #63488
 17411 00ca C1F6FF73 		movt	r3, 8191
 17412 00ce 4FF00002 		mov	r2, #0
 17413 00d2 1A80     		strh	r2, [r3, #0]	@ movhi
 17414 00d4 06E0     		b	.L35
 17415              	.L34:
1072:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1073:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       else
1074:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1075:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         OB->RDP = RDP_Key;  
 17416              		.loc 1 1075 0
 17417 00d6 4FF47843 		mov	r3, #63488
 17418 00da C1F6FF73 		movt	r3, 8191
 17419 00de 4FF0A502 		mov	r2, #165
 17420 00e2 1A80     		strh	r2, [r3, #0]	@ movhi
 17421              	.L35:
1076:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1077:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Wait for last operation to be completed */
1078:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       status = FLASH_WaitForLastOperation(EraseTimeout); 
 17422              		.loc 1 1078 0
 17423 00e4 4FF43020 		mov	r0, #720896
 17424 00e8 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17425 00ec 0346     		mov	r3, r0
 17426 00ee FB73     		strb	r3, [r7, #15]
1079:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     
1080:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 17427              		.loc 1 1080 0
 17428 00f0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 17429 00f2 052B     		cmp	r3, #5
 17430 00f4 21D0     		beq	.L32
1081:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1082:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* if the program operation is completed, disable the OPTPG Bit */
1083:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTPG_Reset;
 17431              		.loc 1 1083 0
 17432 00f6 4FF40053 		mov	r3, #8192
 17433 00fa C4F20203 		movt	r3, 16386
 17434 00fe 4FF40052 		mov	r2, #8192
 17435 0102 C4F20202 		movt	r2, 16386
 17436 0106 1269     		ldr	r2, [r2, #16]
 17437 0108 1146     		mov	r1, r2
 17438 010a 41F6EF72 		movw	r2, #8175
 17439 010e 01EA0202 		and	r2, r1, r2
 17440 0112 1A61     		str	r2, [r3, #16]
 17441 0114 11E0     		b	.L32
 17442              	.L33:
1084:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1085:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1086:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else 
1087:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1088:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if(status != FLASH_TIMEOUT)
 17443              		.loc 1 1088 0
 17444 0116 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 17445 0118 052B     		cmp	r3, #5
 17446 011a 0ED0     		beq	.L32
1089:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1090:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         /* Disable the OPTER Bit */
1091:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         FLASH->CR &= CR_OPTER_Reset;
 17447              		.loc 1 1091 0
 17448 011c 4FF40053 		mov	r3, #8192
 17449 0120 C4F20203 		movt	r3, 16386
 17450 0124 4FF40052 		mov	r2, #8192
 17451 0128 C4F20202 		movt	r2, 16386
 17452 012c 1269     		ldr	r2, [r2, #16]
 17453 012e 1146     		mov	r1, r2
 17454 0130 41F6DF72 		movw	r2, #8159
 17455 0134 01EA0202 		and	r2, r1, r2
 17456 0138 1A61     		str	r2, [r3, #16]
 17457              	.L32:
1092:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1093:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1094:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1095:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the protection operation Status */
1096:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;       
 17458              		.loc 1 1096 0
 17459 013a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1097:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17460              		.loc 1 1097 0
 17461 013c 1846     		mov	r0, r3
 17462 013e 07F11007 		add	r7, r7, #16
 17463 0142 BD46     		mov	sp, r7
 17464 0144 80BD     		pop	{r7, pc}
 17465              		.cfi_endproc
 17466              	.LFE44:
 17468 0146 00BF     		.section	.text.FLASH_UserOptionByteConfig,"ax",%progbits
 17469              		.align	2
 17470              		.global	FLASH_UserOptionByteConfig
 17471              		.thumb
 17472              		.thumb_func
 17474              	FLASH_UserOptionByteConfig:
 17475              	.LFB45:
1098:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1099:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1100:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Programs the FLASH User Option Byte: IWDG_SW / RST_STOP / RST_STDBY.
1101:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1102:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  OB_IWDG: Selects the IWDG mode
1103:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1104:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg OB_IWDG_SW: Software IWDG selected
1105:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg OB_IWDG_HW: Hardware IWDG selected
1106:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  OB_STOP: Reset event when entering STOP mode.
1107:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1108:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg OB_STOP_NoRST: No reset generated when entering in STOP
1109:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg OB_STOP_RST: Reset generated when entering in STOP
1110:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  OB_STDBY: Reset event when entering Standby mode.
1111:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1112:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg OB_STDBY_NoRST: No reset generated when entering in STANDBY
1113:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg OB_STDBY_RST: Reset generated when entering in STANDBY
1114:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG, 
1115:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1116:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1117:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_UserOptionByteConfig(uint16_t OB_IWDG, uint16_t OB_STOP, uint16_t OB_STDBY)
1118:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17476              		.loc 1 1118 0
 17477              		.cfi_startproc
 17478              		@ args = 0, pretend = 0, frame = 16
 17479              		@ frame_needed = 1, uses_anonymous_args = 0
 17480 0000 80B5     		push	{r7, lr}
 17481              	.LCFI44:
 17482              		.cfi_def_cfa_offset 8
 17483 0002 84B0     		sub	sp, sp, #16
 17484              	.LCFI45:
 17485              		.cfi_def_cfa_offset 24
 17486 0004 00AF     		add	r7, sp, #0
 17487              		.cfi_offset 14, -4
 17488              		.cfi_offset 7, -8
 17489              	.LCFI46:
 17490              		.cfi_def_cfa_register 7
 17491 0006 1346     		mov	r3, r2
 17492 0008 0246     		mov	r2, r0	@ movhi
 17493 000a FA80     		strh	r2, [r7, #6]	@ movhi
 17494 000c 0A46     		mov	r2, r1	@ movhi
 17495 000e BA80     		strh	r2, [r7, #4]	@ movhi
 17496 0010 7B80     		strh	r3, [r7, #2]	@ movhi
1119:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE; 
 17497              		.loc 1 1119 0
 17498 0012 4FF00403 		mov	r3, #4
 17499 0016 FB73     		strb	r3, [r7, #15]
1120:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1121:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
1122:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_OB_IWDG_SOURCE(OB_IWDG));
1123:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_OB_STOP_SOURCE(OB_STOP));
1124:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_OB_STDBY_SOURCE(OB_STDBY));
1125:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1126:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Authorize the small information block programming */
1127:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY1;
 17500              		.loc 1 1127 0
 17501 0018 4FF40053 		mov	r3, #8192
 17502 001c C4F20203 		movt	r3, 16386
 17503 0020 40F22312 		movw	r2, #291
 17504 0024 C4F26752 		movt	r2, 17767
 17505 0028 9A60     		str	r2, [r3, #8]
1128:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY2;
 17506              		.loc 1 1128 0
 17507 002a 4FF40053 		mov	r3, #8192
 17508 002e C4F20203 		movt	r3, 16386
 17509 0032 48F6AB12 		movw	r2, #35243
 17510 0036 CCF6EF52 		movt	r2, 52719
 17511 003a 9A60     		str	r2, [r3, #8]
1129:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1130:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
1131:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
 17512              		.loc 1 1131 0
 17513 003c 4FF40050 		mov	r0, #8192
 17514 0040 FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17515 0044 0346     		mov	r3, r0
 17516 0046 FB73     		strb	r3, [r7, #15]
1132:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1133:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
 17517              		.loc 1 1133 0
 17518 0048 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 17519 004a 042B     		cmp	r3, #4
 17520 004c 34D1     		bne	.L37
1134:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {  
1135:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Enable the Option Bytes Programming operation */
1136:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
 17521              		.loc 1 1136 0
 17522 004e 4FF40053 		mov	r3, #8192
 17523 0052 C4F20203 		movt	r3, 16386
 17524 0056 4FF40052 		mov	r2, #8192
 17525 005a C4F20202 		movt	r2, 16386
 17526 005e 1269     		ldr	r2, [r2, #16]
 17527 0060 42F01002 		orr	r2, r2, #16
 17528 0064 1A61     		str	r2, [r3, #16]
1137:../target/stm32/stdperiph/src/stm32f10x_flash.c ****            
1138:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     OB->USER = OB_IWDG | (uint16_t)(OB_STOP | (uint16_t)(OB_STDBY | ((uint16_t)0xF8))); 
 17529              		.loc 1 1138 0
 17530 0066 4FF47843 		mov	r3, #63488
 17531 006a C1F6FF73 		movt	r3, 8191
 17532 006e 7988     		ldrh	r1, [r7, #2]	@ movhi
 17533 0070 BA88     		ldrh	r2, [r7, #4]	@ movhi
 17534 0072 41EA0202 		orr	r2, r1, r2
 17535 0076 91B2     		uxth	r1, r2
 17536 0078 FA88     		ldrh	r2, [r7, #6]	@ movhi
 17537 007a 41EA0202 		orr	r2, r1, r2
 17538 007e 92B2     		uxth	r2, r2
 17539 0080 42F0F802 		orr	r2, r2, #248
 17540 0084 92B2     		uxth	r2, r2
 17541 0086 5A80     		strh	r2, [r3, #2]	@ movhi
1139:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1140:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1141:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
 17542              		.loc 1 1141 0
 17543 0088 4FF40050 		mov	r0, #8192
 17544 008c FFF7FEFF 		bl	FLASH_WaitForLastOperation
 17545 0090 0346     		mov	r3, r0
 17546 0092 FB73     		strb	r3, [r7, #15]
1142:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
 17547              		.loc 1 1142 0
 17548 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 17549 0096 052B     		cmp	r3, #5
 17550 0098 0ED0     		beq	.L37
1143:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1144:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1145:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
 17551              		.loc 1 1145 0
 17552 009a 4FF40053 		mov	r3, #8192
 17553 009e C4F20203 		movt	r3, 16386
 17554 00a2 4FF40052 		mov	r2, #8192
 17555 00a6 C4F20202 		movt	r2, 16386
 17556 00aa 1269     		ldr	r2, [r2, #16]
 17557 00ac 1146     		mov	r1, r2
 17558 00ae 41F6EF72 		movw	r2, #8175
 17559 00b2 01EA0202 		and	r2, r1, r2
 17560 00b6 1A61     		str	r2, [r3, #16]
 17561              	.L37:
1146:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1147:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }    
1148:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Option Byte program Status */
1149:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 17562              		.loc 1 1149 0
 17563 00b8 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1150:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17564              		.loc 1 1150 0
 17565 00ba 1846     		mov	r0, r3
 17566 00bc 07F11007 		add	r7, r7, #16
 17567 00c0 BD46     		mov	sp, r7
 17568 00c2 80BD     		pop	{r7, pc}
 17569              		.cfi_endproc
 17570              	.LFE45:
 17572              		.section	.text.FLASH_GetUserOptionByte,"ax",%progbits
 17573              		.align	2
 17574              		.global	FLASH_GetUserOptionByte
 17575              		.thumb
 17576              		.thumb_func
 17578              	FLASH_GetUserOptionByte:
 17579              	.LFB46:
1151:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1152:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1153:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1154:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Configures to boot from Bank1 or Bank2.  
1155:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used only for STM32F10x_XL density devices.
1156:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  FLASH_BOOT: select the FLASH Bank to boot from.
1157:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1158:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_BOOT_Bank1: At startup, if boot pins are set in boot from user Flash
1159:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *        position and this parameter is selected the device will boot from Bank1(Default).
1160:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_BOOT_Bank2: At startup, if boot pins are set in boot from user Flash
1161:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *        position and this parameter is selected the device will boot from Bank2 or Bank1,
1162:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *        depending on the activation of the bank. The active banks are checked in
1163:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *        the following order: Bank2, followed by Bank1.
1164:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *        The active bank is recognized by the value programmed at the base address
1165:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *        of the respective bank (corresponding to the initial stack pointer value
1166:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *        in the interrupt vector table).
1167:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *        For more information, please refer to AN2606 from www.st.com.    
1168:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG, 
1169:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1170:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1171:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_BootConfig(uint16_t FLASH_BOOT)
1172:../target/stm32/stdperiph/src/stm32f10x_flash.c **** { 
1173:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE; 
1174:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_BOOT(FLASH_BOOT));
1175:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Authorize the small information block programming */
1176:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY1;
1177:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->OPTKEYR = FLASH_KEY2;
1178:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1179:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for last operation to be completed */
1180:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_WaitForLastOperation(ProgramTimeout);
1181:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1182:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(status == FLASH_COMPLETE)
1183:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {  
1184:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Enable the Option Bytes Programming operation */
1185:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= CR_OPTPG_Set; 
1186:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1187:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(FLASH_BOOT == FLASH_BOOT_Bank1)
1188:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1189:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       OB->USER |= OB_USER_BFB2;
1190:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1191:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
1192:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1193:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       OB->USER &= (uint16_t)(~(uint16_t)(OB_USER_BFB2));
1194:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1195:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Wait for last operation to be completed */
1196:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_WaitForLastOperation(ProgramTimeout);
1197:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(status != FLASH_TIMEOUT)
1198:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1199:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* if the program operation is completed, disable the OPTPG Bit */
1200:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= CR_OPTPG_Reset;
1201:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1202:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }    
1203:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Option Byte program Status */
1204:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
1205:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
1206:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1207:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1208:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1209:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH User Option Bytes values.
1210:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1211:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
1212:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval The FLASH User Option Bytes values:IWDG_SW(Bit0), RST_STOP(Bit1)
1213:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   and RST_STDBY(Bit2).
1214:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1215:../target/stm32/stdperiph/src/stm32f10x_flash.c **** uint32_t FLASH_GetUserOptionByte(void)
1216:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17580              		.loc 1 1216 0
 17581              		.cfi_startproc
 17582              		@ args = 0, pretend = 0, frame = 0
 17583              		@ frame_needed = 1, uses_anonymous_args = 0
 17584              		@ link register save eliminated.
 17585 0000 80B4     		push	{r7}
 17586              	.LCFI47:
 17587              		.cfi_def_cfa_offset 4
 17588 0002 00AF     		add	r7, sp, #0
 17589              		.cfi_offset 7, -4
 17590              	.LCFI48:
 17591              		.cfi_def_cfa_register 7
1217:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the User Option Byte */
1218:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return (uint32_t)(FLASH->OBR >> 2);
 17592              		.loc 1 1218 0
 17593 0004 4FF40053 		mov	r3, #8192
 17594 0008 C4F20203 		movt	r3, 16386
 17595 000c DB69     		ldr	r3, [r3, #28]
 17596 000e 4FEA9303 		lsr	r3, r3, #2
1219:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17597              		.loc 1 1219 0
 17598 0012 1846     		mov	r0, r3
 17599 0014 BD46     		mov	sp, r7
 17600 0016 80BC     		pop	{r7}
 17601 0018 7047     		bx	lr
 17602              		.cfi_endproc
 17603              	.LFE46:
 17605 001a 00BF     		.section	.text.FLASH_GetWriteProtectionOptionByte,"ax",%progbits
 17606              		.align	2
 17607              		.global	FLASH_GetWriteProtectionOptionByte
 17608              		.thumb
 17609              		.thumb_func
 17611              	FLASH_GetWriteProtectionOptionByte:
 17612              	.LFB47:
1220:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1221:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1222:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Write Protection Option Bytes Register value.
1223:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1224:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
1225:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval The FLASH Write Protection  Option Bytes Register value
1226:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1227:../target/stm32/stdperiph/src/stm32f10x_flash.c **** uint32_t FLASH_GetWriteProtectionOptionByte(void)
1228:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17613              		.loc 1 1228 0
 17614              		.cfi_startproc
 17615              		@ args = 0, pretend = 0, frame = 0
 17616              		@ frame_needed = 1, uses_anonymous_args = 0
 17617              		@ link register save eliminated.
 17618 0000 80B4     		push	{r7}
 17619              	.LCFI49:
 17620              		.cfi_def_cfa_offset 4
 17621 0002 00AF     		add	r7, sp, #0
 17622              		.cfi_offset 7, -4
 17623              	.LCFI50:
 17624              		.cfi_def_cfa_register 7
1229:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Falsh write protection Register value */
1230:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return (uint32_t)(FLASH->WRPR);
 17625              		.loc 1 1230 0
 17626 0004 4FF40053 		mov	r3, #8192
 17627 0008 C4F20203 		movt	r3, 16386
 17628 000c 1B6A     		ldr	r3, [r3, #32]
1231:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17629              		.loc 1 1231 0
 17630 000e 1846     		mov	r0, r3
 17631 0010 BD46     		mov	sp, r7
 17632 0012 80BC     		pop	{r7}
 17633 0014 7047     		bx	lr
 17634              		.cfi_endproc
 17635              	.LFE47:
 17637 0016 00BF     		.section	.text.FLASH_GetReadOutProtectionStatus,"ax",%progbits
 17638              		.align	2
 17639              		.global	FLASH_GetReadOutProtectionStatus
 17640              		.thumb
 17641              		.thumb_func
 17643              	FLASH_GetReadOutProtectionStatus:
 17644              	.LFB48:
1232:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1233:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1234:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Checks whether the FLASH Read Out Protection Status is set or not.
1235:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1236:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
1237:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH ReadOut Protection Status(SET or RESET)
1238:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1239:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FlagStatus FLASH_GetReadOutProtectionStatus(void)
1240:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17645              		.loc 1 1240 0
 17646              		.cfi_startproc
 17647              		@ args = 0, pretend = 0, frame = 8
 17648              		@ frame_needed = 1, uses_anonymous_args = 0
 17649              		@ link register save eliminated.
 17650 0000 80B4     		push	{r7}
 17651              	.LCFI51:
 17652              		.cfi_def_cfa_offset 4
 17653 0002 83B0     		sub	sp, sp, #12
 17654              	.LCFI52:
 17655              		.cfi_def_cfa_offset 16
 17656 0004 00AF     		add	r7, sp, #0
 17657              		.cfi_offset 7, -4
 17658              	.LCFI53:
 17659              		.cfi_def_cfa_register 7
1241:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FlagStatus readoutstatus = RESET;
 17660              		.loc 1 1241 0
 17661 0006 4FF00003 		mov	r3, #0
 17662 000a FB71     		strb	r3, [r7, #7]
1242:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if ((FLASH->OBR & RDPRT_Mask) != (uint32_t)RESET)
 17663              		.loc 1 1242 0
 17664 000c 4FF40053 		mov	r3, #8192
 17665 0010 C4F20203 		movt	r3, 16386
 17666 0014 DB69     		ldr	r3, [r3, #28]
 17667 0016 03F00203 		and	r3, r3, #2
 17668 001a 002B     		cmp	r3, #0
 17669 001c 03D0     		beq	.L41
1243:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1244:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     readoutstatus = SET;
 17670              		.loc 1 1244 0
 17671 001e 4FF00103 		mov	r3, #1
 17672 0022 FB71     		strb	r3, [r7, #7]
 17673 0024 02E0     		b	.L42
 17674              	.L41:
1245:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1246:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
1247:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1248:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     readoutstatus = RESET;
 17675              		.loc 1 1248 0
 17676 0026 4FF00003 		mov	r3, #0
 17677 002a FB71     		strb	r3, [r7, #7]
 17678              	.L42:
1249:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1250:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return readoutstatus;
 17679              		.loc 1 1250 0
 17680 002c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1251:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17681              		.loc 1 1251 0
 17682 002e 1846     		mov	r0, r3
 17683 0030 07F10C07 		add	r7, r7, #12
 17684 0034 BD46     		mov	sp, r7
 17685 0036 80BC     		pop	{r7}
 17686 0038 7047     		bx	lr
 17687              		.cfi_endproc
 17688              	.LFE48:
 17690 003a 00BF     		.section	.text.FLASH_GetPrefetchBufferStatus,"ax",%progbits
 17691              		.align	2
 17692              		.global	FLASH_GetPrefetchBufferStatus
 17693              		.thumb
 17694              		.thumb_func
 17696              	FLASH_GetPrefetchBufferStatus:
 17697              	.LFB49:
1252:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1253:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1254:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Checks whether the FLASH Prefetch Buffer status is set or not.
1255:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1256:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
1257:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Prefetch Buffer Status (SET or RESET).
1258:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1259:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FlagStatus FLASH_GetPrefetchBufferStatus(void)
1260:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17698              		.loc 1 1260 0
 17699              		.cfi_startproc
 17700              		@ args = 0, pretend = 0, frame = 8
 17701              		@ frame_needed = 1, uses_anonymous_args = 0
 17702              		@ link register save eliminated.
 17703 0000 80B4     		push	{r7}
 17704              	.LCFI54:
 17705              		.cfi_def_cfa_offset 4
 17706 0002 83B0     		sub	sp, sp, #12
 17707              	.LCFI55:
 17708              		.cfi_def_cfa_offset 16
 17709 0004 00AF     		add	r7, sp, #0
 17710              		.cfi_offset 7, -4
 17711              	.LCFI56:
 17712              		.cfi_def_cfa_register 7
1261:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FlagStatus bitstatus = RESET;
 17713              		.loc 1 1261 0
 17714 0006 4FF00003 		mov	r3, #0
 17715 000a FB71     		strb	r3, [r7, #7]
1262:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1263:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if ((FLASH->ACR & ACR_PRFTBS_Mask) != (uint32_t)RESET)
 17716              		.loc 1 1263 0
 17717 000c 4FF40053 		mov	r3, #8192
 17718 0010 C4F20203 		movt	r3, 16386
 17719 0014 1B68     		ldr	r3, [r3, #0]
 17720 0016 03F02003 		and	r3, r3, #32
 17721 001a 002B     		cmp	r3, #0
 17722 001c 03D0     		beq	.L44
1264:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1265:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     bitstatus = SET;
 17723              		.loc 1 1265 0
 17724 001e 4FF00103 		mov	r3, #1
 17725 0022 FB71     		strb	r3, [r7, #7]
 17726 0024 02E0     		b	.L45
 17727              	.L44:
1266:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1267:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
1268:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1269:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     bitstatus = RESET;
 17728              		.loc 1 1269 0
 17729 0026 4FF00003 		mov	r3, #0
 17730 002a FB71     		strb	r3, [r7, #7]
 17731              	.L45:
1270:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1271:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the new state of FLASH Prefetch Buffer Status (SET or RESET) */
1272:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return bitstatus; 
 17732              		.loc 1 1272 0
 17733 002c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1273:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17734              		.loc 1 1273 0
 17735 002e 1846     		mov	r0, r3
 17736 0030 07F10C07 		add	r7, r7, #12
 17737 0034 BD46     		mov	sp, r7
 17738 0036 80BC     		pop	{r7}
 17739 0038 7047     		bx	lr
 17740              		.cfi_endproc
 17741              	.LFE49:
 17743 003a 00BF     		.section	.text.FLASH_ITConfig,"ax",%progbits
 17744              		.align	2
 17745              		.global	FLASH_ITConfig
 17746              		.thumb
 17747              		.thumb_func
 17749              	FLASH_ITConfig:
 17750              	.LFB50:
1274:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1275:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1276:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Enables or disables the specified FLASH interrupts.
1277:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1278:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, enables or disables the specified FLASH interrupts
1279:../target/stm32/stdperiph/src/stm32f10x_flash.c ****               for Bank1 and Bank2.
1280:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For other devices it enables or disables the specified FLASH interrupts for Bank1.
1281:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  FLASH_IT: specifies the FLASH interrupt sources to be enabled or disabled.
1282:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be any combination of the following values:
1283:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_IT_ERROR: FLASH Error Interrupt
1284:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_IT_EOP: FLASH end of operation Interrupt
1285:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  NewState: new state of the specified Flash interrupts.
1286:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be: ENABLE or DISABLE.      
1287:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None 
1288:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1289:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_ITConfig(uint32_t FLASH_IT, FunctionalState NewState)
1290:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17751              		.loc 1 1290 0
 17752              		.cfi_startproc
 17753              		@ args = 0, pretend = 0, frame = 8
 17754              		@ frame_needed = 1, uses_anonymous_args = 0
 17755              		@ link register save eliminated.
 17756 0000 80B4     		push	{r7}
 17757              	.LCFI57:
 17758              		.cfi_def_cfa_offset 4
 17759 0002 83B0     		sub	sp, sp, #12
 17760              	.LCFI58:
 17761              		.cfi_def_cfa_offset 16
 17762 0004 00AF     		add	r7, sp, #0
 17763              		.cfi_offset 7, -4
 17764              	.LCFI59:
 17765              		.cfi_def_cfa_register 7
 17766 0006 7860     		str	r0, [r7, #4]
 17767 0008 0B46     		mov	r3, r1
 17768 000a FB70     		strb	r3, [r7, #3]
1291:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1292:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
1293:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_IT(FLASH_IT)); 
1294:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1295:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1296:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if((FLASH_IT & 0x80000000) != 0x0)
1297:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1298:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(NewState != DISABLE)
1299:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1300:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Enable the interrupt sources */
1301:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 |= (FLASH_IT & 0x7FFFFFFF);
1302:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1303:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
1304:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1305:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the interrupt sources */
1306:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR2 &= ~(uint32_t)(FLASH_IT & 0x7FFFFFFF);
1307:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1308:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1309:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
1310:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1311:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if(NewState != DISABLE)
1312:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1313:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Enable the interrupt sources */
1314:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR |= FLASH_IT;
1315:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1316:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
1317:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1318:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       /* Disable the interrupt sources */
1319:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       FLASH->CR &= ~(uint32_t)FLASH_IT;
1320:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1321:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1322:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #else
1323:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
1324:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_IT(FLASH_IT)); 
1325:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1326:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1327:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(NewState != DISABLE)
 17769              		.loc 1 1327 0
 17770 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 17771 000e 002B     		cmp	r3, #0
 17772 0010 0ED0     		beq	.L47
1328:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1329:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Enable the interrupt sources */
1330:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR |= FLASH_IT;
 17773              		.loc 1 1330 0
 17774 0012 4FF40053 		mov	r3, #8192
 17775 0016 C4F20203 		movt	r3, 16386
 17776 001a 4FF40052 		mov	r2, #8192
 17777 001e C4F20202 		movt	r2, 16386
 17778 0022 1269     		ldr	r2, [r2, #16]
 17779 0024 1146     		mov	r1, r2
 17780 0026 7A68     		ldr	r2, [r7, #4]
 17781 0028 41EA0202 		orr	r2, r1, r2
 17782 002c 1A61     		str	r2, [r3, #16]
 17783 002e 0FE0     		b	.L46
 17784              	.L47:
1331:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1332:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
1333:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1334:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Disable the interrupt sources */
1335:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->CR &= ~(uint32_t)FLASH_IT;
 17785              		.loc 1 1335 0
 17786 0030 4FF40053 		mov	r3, #8192
 17787 0034 C4F20203 		movt	r3, 16386
 17788 0038 4FF40052 		mov	r2, #8192
 17789 003c C4F20202 		movt	r2, 16386
 17790 0040 1269     		ldr	r2, [r2, #16]
 17791 0042 1146     		mov	r1, r2
 17792 0044 7A68     		ldr	r2, [r7, #4]
 17793 0046 6FEA0202 		mvn	r2, r2
 17794 004a 01EA0202 		and	r2, r1, r2
 17795 004e 1A61     		str	r2, [r3, #16]
 17796              	.L46:
1336:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1337:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1338:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17797              		.loc 1 1338 0
 17798 0050 07F10C07 		add	r7, r7, #12
 17799 0054 BD46     		mov	sp, r7
 17800 0056 80BC     		pop	{r7}
 17801 0058 7047     		bx	lr
 17802              		.cfi_endproc
 17803              	.LFE50:
 17805 005a 00BF     		.section	.text.FLASH_GetFlagStatus,"ax",%progbits
 17806              		.align	2
 17807              		.global	FLASH_GetFlagStatus
 17808              		.thumb
 17809              		.thumb_func
 17811              	FLASH_GetFlagStatus:
 17812              	.LFB51:
1339:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1340:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1341:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Checks whether the specified FLASH flag is set or not.
1342:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1343:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, this function checks whether the specified 
1344:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           Bank1 or Bank2 flag is set or not.
1345:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For other devices, it checks whether the specified Bank1 flag is 
1346:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           set or not.
1347:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  FLASH_FLAG: specifies the FLASH flag to check.
1348:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be one of the following values:
1349:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_BSY: FLASH Busy flag           
1350:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_PGERR: FLASH Program error flag       
1351:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_WRPRTERR: FLASH Write protected error flag      
1352:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_EOP: FLASH End of Operation flag           
1353:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_OPTERR:  FLASH Option Byte error flag     
1354:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval The new state of FLASH_FLAG (SET or RESET).
1355:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1356:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FlagStatus FLASH_GetFlagStatus(uint32_t FLASH_FLAG)
1357:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17813              		.loc 1 1357 0
 17814              		.cfi_startproc
 17815              		@ args = 0, pretend = 0, frame = 16
 17816              		@ frame_needed = 1, uses_anonymous_args = 0
 17817              		@ link register save eliminated.
 17818 0000 80B4     		push	{r7}
 17819              	.LCFI60:
 17820              		.cfi_def_cfa_offset 4
 17821 0002 85B0     		sub	sp, sp, #20
 17822              	.LCFI61:
 17823              		.cfi_def_cfa_offset 24
 17824 0004 00AF     		add	r7, sp, #0
 17825              		.cfi_offset 7, -4
 17826              	.LCFI62:
 17827              		.cfi_def_cfa_register 7
 17828 0006 7860     		str	r0, [r7, #4]
1358:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FlagStatus bitstatus = RESET;
 17829              		.loc 1 1358 0
 17830 0008 4FF00003 		mov	r3, #0
 17831 000c FB73     		strb	r3, [r7, #15]
1359:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1360:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1361:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
1362:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_GET_FLAG(FLASH_FLAG)) ;
1363:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(FLASH_FLAG == FLASH_FLAG_OPTERR) 
1364:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1365:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((FLASH->OBR & FLASH_FLAG_OPTERR) != (uint32_t)RESET)
1366:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1367:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       bitstatus = SET;
1368:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1369:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
1370:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1371:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       bitstatus = RESET;
1372:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1373:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1374:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
1375:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1376:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((FLASH_FLAG & 0x80000000) != 0x0)
1377:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1378:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if((FLASH->SR2 & FLASH_FLAG) != (uint32_t)RESET)
1379:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1380:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         bitstatus = SET;
1381:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1382:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       else
1383:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1384:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         bitstatus = RESET;
1385:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1386:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1387:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
1388:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1389:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG) != (uint32_t)RESET)
1390:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1391:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         bitstatus = SET;
1392:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1393:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       else
1394:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1395:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         bitstatus = RESET;
1396:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1397:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1398:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1399:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #else
1400:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
1401:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_GET_FLAG(FLASH_FLAG)) ;
1402:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(FLASH_FLAG == FLASH_FLAG_OPTERR) 
 17832              		.loc 1 1402 0
 17833 000e 7B68     		ldr	r3, [r7, #4]
 17834 0010 012B     		cmp	r3, #1
 17835 0012 11D1     		bne	.L50
1403:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1404:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((FLASH->OBR & FLASH_FLAG_OPTERR) != (uint32_t)RESET)
 17836              		.loc 1 1404 0
 17837 0014 4FF40053 		mov	r3, #8192
 17838 0018 C4F20203 		movt	r3, 16386
 17839 001c DB69     		ldr	r3, [r3, #28]
 17840 001e 03F00103 		and	r3, r3, #1
 17841 0022 DBB2     		uxtb	r3, r3
 17842 0024 002B     		cmp	r3, #0
 17843 0026 03D0     		beq	.L51
1405:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1406:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       bitstatus = SET;
 17844              		.loc 1 1406 0
 17845 0028 4FF00103 		mov	r3, #1
 17846 002c FB73     		strb	r3, [r7, #15]
 17847 002e 15E0     		b	.L52
 17848              	.L51:
1407:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1408:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
1409:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1410:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       bitstatus = RESET;
 17849              		.loc 1 1410 0
 17850 0030 4FF00003 		mov	r3, #0
 17851 0034 FB73     		strb	r3, [r7, #15]
 17852 0036 11E0     		b	.L52
 17853              	.L50:
1411:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1412:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1413:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
1414:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1415:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    if((FLASH->SR & FLASH_FLAG) != (uint32_t)RESET)
 17854              		.loc 1 1415 0
 17855 0038 4FF40053 		mov	r3, #8192
 17856 003c C4F20203 		movt	r3, 16386
 17857 0040 DB68     		ldr	r3, [r3, #12]
 17858 0042 1A46     		mov	r2, r3
 17859 0044 7B68     		ldr	r3, [r7, #4]
 17860 0046 02EA0303 		and	r3, r2, r3
 17861 004a 002B     		cmp	r3, #0
 17862 004c 03D0     		beq	.L53
1416:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1417:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       bitstatus = SET;
 17863              		.loc 1 1417 0
 17864 004e 4FF00103 		mov	r3, #1
 17865 0052 FB73     		strb	r3, [r7, #15]
 17866 0054 02E0     		b	.L52
 17867              	.L53:
1418:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1419:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else
1420:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1421:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       bitstatus = RESET;
 17868              		.loc 1 1421 0
 17869 0056 4FF00003 		mov	r3, #0
 17870 005a FB73     		strb	r3, [r7, #15]
 17871              	.L52:
1422:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1423:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1424:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1425:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1426:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the new state of FLASH_FLAG (SET or RESET) */
1427:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return bitstatus;
 17872              		.loc 1 1427 0
 17873 005c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1428:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17874              		.loc 1 1428 0
 17875 005e 1846     		mov	r0, r3
 17876 0060 07F11407 		add	r7, r7, #20
 17877 0064 BD46     		mov	sp, r7
 17878 0066 80BC     		pop	{r7}
 17879 0068 7047     		bx	lr
 17880              		.cfi_endproc
 17881              	.LFE51:
 17883 006a 00BF     		.section	.text.FLASH_ClearFlag,"ax",%progbits
 17884              		.align	2
 17885              		.global	FLASH_ClearFlag
 17886              		.thumb
 17887              		.thumb_func
 17889              	FLASH_ClearFlag:
 17890              	.LFB52:
1429:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1430:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1431:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Clears the FLASHs pending flags.
1432:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices.
1433:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices, this function clears Bank1 or Bank2s pending flags
1434:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For other devices, it clears Bank1s pending flags.
1435:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  FLASH_FLAG: specifies the FLASH flags to clear.
1436:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   This parameter can be any combination of the following values:         
1437:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_PGERR: FLASH Program error flag       
1438:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_WRPRTERR: FLASH Write protected error flag      
1439:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *     @arg FLASH_FLAG_EOP: FLASH End of Operation flag           
1440:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval None
1441:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1442:../target/stm32/stdperiph/src/stm32f10x_flash.c **** void FLASH_ClearFlag(uint32_t FLASH_FLAG)
1443:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17891              		.loc 1 1443 0
 17892              		.cfi_startproc
 17893              		@ args = 0, pretend = 0, frame = 8
 17894              		@ frame_needed = 1, uses_anonymous_args = 0
 17895              		@ link register save eliminated.
 17896 0000 80B4     		push	{r7}
 17897              	.LCFI63:
 17898              		.cfi_def_cfa_offset 4
 17899 0002 83B0     		sub	sp, sp, #12
 17900              	.LCFI64:
 17901              		.cfi_def_cfa_offset 16
 17902 0004 00AF     		add	r7, sp, #0
 17903              		.cfi_offset 7, -4
 17904              	.LCFI65:
 17905              		.cfi_def_cfa_register 7
 17906 0006 7860     		str	r0, [r7, #4]
1444:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1445:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
1446:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_CLEAR_FLAG(FLASH_FLAG)) ;
1447:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1448:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if((FLASH_FLAG & 0x80000000) != 0x0)
1449:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1450:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Clear the flags */
1451:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->SR2 = FLASH_FLAG;
1452:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1453:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else
1454:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1455:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     /* Clear the flags */
1456:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     FLASH->SR = FLASH_FLAG;
1457:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }  
1458:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1459:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #else
1460:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check the parameters */
1461:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   assert_param(IS_FLASH_CLEAR_FLAG(FLASH_FLAG)) ;
1462:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1463:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Clear the flags */
1464:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH->SR = FLASH_FLAG;
 17907              		.loc 1 1464 0
 17908 0008 4FF40053 		mov	r3, #8192
 17909 000c C4F20203 		movt	r3, 16386
 17910 0010 7A68     		ldr	r2, [r7, #4]
 17911 0012 DA60     		str	r2, [r3, #12]
1465:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1466:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17912              		.loc 1 1466 0
 17913 0014 07F10C07 		add	r7, r7, #12
 17914 0018 BD46     		mov	sp, r7
 17915 001a 80BC     		pop	{r7}
 17916 001c 7047     		bx	lr
 17917              		.cfi_endproc
 17918              	.LFE52:
 17920 001e 00BF     		.section	.text.FLASH_GetStatus,"ax",%progbits
 17921              		.align	2
 17922              		.global	FLASH_GetStatus
 17923              		.thumb
 17924              		.thumb_func
 17926              	FLASH_GetStatus:
 17927              	.LFB53:
1467:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1468:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1469:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Status.
1470:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, it is equivalent
1471:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *    to FLASH_GetBank1Status function.
1472:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
1473:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1474:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP or FLASH_COMPLETE
1475:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1476:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetStatus(void)
1477:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 17928              		.loc 1 1477 0
 17929              		.cfi_startproc
 17930              		@ args = 0, pretend = 0, frame = 8
 17931              		@ frame_needed = 1, uses_anonymous_args = 0
 17932              		@ link register save eliminated.
 17933 0000 80B4     		push	{r7}
 17934              	.LCFI66:
 17935              		.cfi_def_cfa_offset 4
 17936 0002 83B0     		sub	sp, sp, #12
 17937              	.LCFI67:
 17938              		.cfi_def_cfa_offset 16
 17939 0004 00AF     		add	r7, sp, #0
 17940              		.cfi_offset 7, -4
 17941              	.LCFI68:
 17942              		.cfi_def_cfa_register 7
1478:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
 17943              		.loc 1 1478 0
 17944 0006 4FF00403 		mov	r3, #4
 17945 000a FB71     		strb	r3, [r7, #7]
1479:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1480:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if((FLASH->SR & FLASH_FLAG_BSY) == FLASH_FLAG_BSY) 
 17946              		.loc 1 1480 0
 17947 000c 4FF40053 		mov	r3, #8192
 17948 0010 C4F20203 		movt	r3, 16386
 17949 0014 DB68     		ldr	r3, [r3, #12]
 17950 0016 03F00103 		and	r3, r3, #1
 17951 001a DBB2     		uxtb	r3, r3
 17952 001c 002B     		cmp	r3, #0
 17953 001e 03D0     		beq	.L56
1481:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1482:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
 17954              		.loc 1 1482 0
 17955 0020 4FF00103 		mov	r3, #1
 17956 0024 FB71     		strb	r3, [r7, #7]
 17957 0026 1CE0     		b	.L57
 17958              	.L56:
1483:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1484:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else 
1485:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {  
1486:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((FLASH->SR & FLASH_FLAG_PGERR) != 0)
 17959              		.loc 1 1486 0
 17960 0028 4FF40053 		mov	r3, #8192
 17961 002c C4F20203 		movt	r3, 16386
 17962 0030 DB68     		ldr	r3, [r3, #12]
 17963 0032 03F00403 		and	r3, r3, #4
 17964 0036 002B     		cmp	r3, #0
 17965 0038 03D0     		beq	.L58
1487:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     { 
1488:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
 17966              		.loc 1 1488 0
 17967 003a 4FF00203 		mov	r3, #2
 17968 003e FB71     		strb	r3, [r7, #7]
 17969 0040 0FE0     		b	.L57
 17970              	.L58:
1489:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1490:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else 
1491:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1492:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG_WRPRTERR) != 0 )
 17971              		.loc 1 1492 0
 17972 0042 4FF40053 		mov	r3, #8192
 17973 0046 C4F20203 		movt	r3, 16386
 17974 004a DB68     		ldr	r3, [r3, #12]
 17975 004c 03F01003 		and	r3, r3, #16
 17976 0050 002B     		cmp	r3, #0
 17977 0052 03D0     		beq	.L59
1493:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1494:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
 17978              		.loc 1 1494 0
 17979 0054 4FF00303 		mov	r3, #3
 17980 0058 FB71     		strb	r3, [r7, #7]
 17981 005a 02E0     		b	.L57
 17982              	.L59:
1495:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1496:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       else
1497:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1498:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
 17983              		.loc 1 1498 0
 17984 005c 4FF00403 		mov	r3, #4
 17985 0060 FB71     		strb	r3, [r7, #7]
 17986              	.L57:
1499:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1500:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1501:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1502:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1503:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return flashstatus;
 17987              		.loc 1 1503 0
 17988 0062 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1504:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 17989              		.loc 1 1504 0
 17990 0064 1846     		mov	r0, r3
 17991 0066 07F10C07 		add	r7, r7, #12
 17992 006a BD46     		mov	sp, r7
 17993 006c 80BC     		pop	{r7}
 17994 006e 7047     		bx	lr
 17995              		.cfi_endproc
 17996              	.LFE53:
 17998              		.section	.text.FLASH_GetBank1Status,"ax",%progbits
 17999              		.align	2
 18000              		.global	FLASH_GetBank1Status
 18001              		.thumb
 18002              		.thumb_func
 18004              	FLASH_GetBank1Status:
 18005              	.LFB54:
1505:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1506:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1507:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Bank1 Status.
1508:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, it is equivalent
1509:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   to FLASH_GetStatus function.
1510:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
1511:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1512:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP or FLASH_COMPLETE
1513:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1514:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetBank1Status(void)
1515:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
 18006              		.loc 1 1515 0
 18007              		.cfi_startproc
 18008              		@ args = 0, pretend = 0, frame = 8
 18009              		@ frame_needed = 1, uses_anonymous_args = 0
 18010              		@ link register save eliminated.
 18011 0000 80B4     		push	{r7}
 18012              	.LCFI69:
 18013              		.cfi_def_cfa_offset 4
 18014 0002 83B0     		sub	sp, sp, #12
 18015              	.LCFI70:
 18016              		.cfi_def_cfa_offset 16
 18017 0004 00AF     		add	r7, sp, #0
 18018              		.cfi_offset 7, -4
 18019              	.LCFI71:
 18020              		.cfi_def_cfa_register 7
1516:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
 18021              		.loc 1 1516 0
 18022 0006 4FF00403 		mov	r3, #4
 18023 000a FB71     		strb	r3, [r7, #7]
1517:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1518:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if((FLASH->SR & FLASH_FLAG_BANK1_BSY) == FLASH_FLAG_BSY) 
 18024              		.loc 1 1518 0
 18025 000c 4FF40053 		mov	r3, #8192
 18026 0010 C4F20203 		movt	r3, 16386
 18027 0014 DB68     		ldr	r3, [r3, #12]
 18028 0016 03F00103 		and	r3, r3, #1
 18029 001a DBB2     		uxtb	r3, r3
 18030 001c 002B     		cmp	r3, #0
 18031 001e 03D0     		beq	.L61
1519:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1520:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
 18032              		.loc 1 1520 0
 18033 0020 4FF00103 		mov	r3, #1
 18034 0024 FB71     		strb	r3, [r7, #7]
 18035 0026 1CE0     		b	.L62
 18036              	.L61:
1521:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1522:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else 
1523:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {  
1524:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((FLASH->SR & FLASH_FLAG_BANK1_PGERR) != 0)
 18037              		.loc 1 1524 0
 18038 0028 4FF40053 		mov	r3, #8192
 18039 002c C4F20203 		movt	r3, 16386
 18040 0030 DB68     		ldr	r3, [r3, #12]
 18041 0032 03F00403 		and	r3, r3, #4
 18042 0036 002B     		cmp	r3, #0
 18043 0038 03D0     		beq	.L63
1525:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     { 
1526:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
 18044              		.loc 1 1526 0
 18045 003a 4FF00203 		mov	r3, #2
 18046 003e FB71     		strb	r3, [r7, #7]
 18047 0040 0FE0     		b	.L62
 18048              	.L63:
1527:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1528:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else 
1529:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1530:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if((FLASH->SR & FLASH_FLAG_BANK1_WRPRTERR) != 0 )
 18049              		.loc 1 1530 0
 18050 0042 4FF40053 		mov	r3, #8192
 18051 0046 C4F20203 		movt	r3, 16386
 18052 004a DB68     		ldr	r3, [r3, #12]
 18053 004c 03F01003 		and	r3, r3, #16
 18054 0050 002B     		cmp	r3, #0
 18055 0052 03D0     		beq	.L64
1531:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1532:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
 18056              		.loc 1 1532 0
 18057 0054 4FF00303 		mov	r3, #3
 18058 0058 FB71     		strb	r3, [r7, #7]
 18059 005a 02E0     		b	.L62
 18060              	.L64:
1533:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1534:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       else
1535:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1536:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
 18061              		.loc 1 1536 0
 18062 005c 4FF00403 		mov	r3, #4
 18063 0060 FB71     		strb	r3, [r7, #7]
 18064              	.L62:
1537:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1538:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1539:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1540:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1541:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return flashstatus;
 18065              		.loc 1 1541 0
 18066 0062 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
1542:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 18067              		.loc 1 1542 0
 18068 0064 1846     		mov	r0, r3
 18069 0066 07F10C07 		add	r7, r7, #12
 18070 006a BD46     		mov	sp, r7
 18071 006c 80BC     		pop	{r7}
 18072 006e 7047     		bx	lr
 18073              		.cfi_endproc
 18074              	.LFE54:
 18076              		.section	.text.FLASH_WaitForLastOperation,"ax",%progbits
 18077              		.align	2
 18078              		.global	FLASH_WaitForLastOperation
 18079              		.thumb
 18080              		.thumb_func
 18082              	FLASH_WaitForLastOperation:
 18083              	.LFB55:
1543:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1544:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #ifdef STM32F10X_XL
1545:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1546:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Returns the FLASH Bank2 Status.
1547:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for STM32F10x_XL density devices.
1548:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  None
1549:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_BUSY, FLASH_ERROR_PG,
1550:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP or FLASH_COMPLETE
1551:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1552:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_GetBank2Status(void)
1553:../target/stm32/stdperiph/src/stm32f10x_flash.c **** {
1554:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status flashstatus = FLASH_COMPLETE;
1555:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   
1556:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if((FLASH->SR2 & (FLASH_FLAG_BANK2_BSY & 0x7FFFFFFF)) == (FLASH_FLAG_BANK2_BSY & 0x7FFFFFFF)) 
1557:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1558:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     flashstatus = FLASH_BUSY;
1559:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1560:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   else 
1561:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {  
1562:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     if((FLASH->SR2 & (FLASH_FLAG_BANK2_PGERR & 0x7FFFFFFF)) != 0)
1563:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     { 
1564:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       flashstatus = FLASH_ERROR_PG;
1565:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1566:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     else 
1567:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     {
1568:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       if((FLASH->SR2 & (FLASH_FLAG_BANK2_WRPRTERR & 0x7FFFFFFF)) != 0 )
1569:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1570:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         flashstatus = FLASH_ERROR_WRP;
1571:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1572:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       else
1573:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       {
1574:../target/stm32/stdperiph/src/stm32f10x_flash.c ****         flashstatus = FLASH_COMPLETE;
1575:../target/stm32/stdperiph/src/stm32f10x_flash.c ****       }
1576:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     }
1577:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1578:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the Flash Status */
1579:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return flashstatus;
1580:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
1581:../target/stm32/stdperiph/src/stm32f10x_flash.c **** #endif /* STM32F10X_XL */
1582:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1583:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Waits for a Flash operation to complete or a TIMEOUT to occur.
1584:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, 
1585:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         it is equivalent to FLASH_WaitForLastBank1Operation.
1586:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For STM32F10X_XL devices this function waits for a Bank1 Flash operation
1587:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           to complete or a TIMEOUT to occur.
1588:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         - For all other devices it waits for a Flash operation to complete 
1589:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *           or a TIMEOUT to occur.
1590:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Timeout: FLASH progamming Timeout
1591:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1592:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1593:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1594:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_WaitForLastOperation(uint32_t Timeout)
1595:../target/stm32/stdperiph/src/stm32f10x_flash.c **** { 
 18084              		.loc 1 1595 0
 18085              		.cfi_startproc
 18086              		@ args = 0, pretend = 0, frame = 16
 18087              		@ frame_needed = 1, uses_anonymous_args = 0
 18088 0000 80B5     		push	{r7, lr}
 18089              	.LCFI72:
 18090              		.cfi_def_cfa_offset 8
 18091 0002 84B0     		sub	sp, sp, #16
 18092              	.LCFI73:
 18093              		.cfi_def_cfa_offset 24
 18094 0004 00AF     		add	r7, sp, #0
 18095              		.cfi_offset 14, -4
 18096              		.cfi_offset 7, -8
 18097              	.LCFI74:
 18098              		.cfi_def_cfa_register 7
 18099 0006 7860     		str	r0, [r7, #4]
1596:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 18100              		.loc 1 1596 0
 18101 0008 4FF00403 		mov	r3, #4
 18102 000c FB73     		strb	r3, [r7, #15]
1597:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    
1598:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check for the Flash Status */
1599:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_GetBank1Status();
 18103              		.loc 1 1599 0
 18104 000e FFF7FEFF 		bl	FLASH_GetBank1Status
 18105 0012 0346     		mov	r3, r0
 18106 0014 FB73     		strb	r3, [r7, #15]
1600:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for a Flash operation to complete or a TIMEOUT to occur */
1601:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 18107              		.loc 1 1601 0
 18108 0016 07E0     		b	.L66
 18109              	.L68:
1602:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1603:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_GetBank1Status();
 18110              		.loc 1 1603 0
 18111 0018 FFF7FEFF 		bl	FLASH_GetBank1Status
 18112 001c 0346     		mov	r3, r0
 18113 001e FB73     		strb	r3, [r7, #15]
1604:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     Timeout--;
 18114              		.loc 1 1604 0
 18115 0020 7B68     		ldr	r3, [r7, #4]
 18116 0022 03F1FF33 		add	r3, r3, #-1
 18117 0026 7B60     		str	r3, [r7, #4]
 18118              	.L66:
1601:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 18119              		.loc 1 1601 0 discriminator 1
 18120 0028 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 18121 002a 012B     		cmp	r3, #1
 18122 002c 02D1     		bne	.L67
1601:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   while((status == FLASH_BUSY) && (Timeout != 0x00))
 18123              		.loc 1 1601 0 is_stmt 0 discriminator 2
 18124 002e 7B68     		ldr	r3, [r7, #4]
 18125 0030 002B     		cmp	r3, #0
 18126 0032 F1D1     		bne	.L68
 18127              	.L67:
1605:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1606:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(Timeout == 0x00 )
 18128              		.loc 1 1606 0 is_stmt 1
 18129 0034 7B68     		ldr	r3, [r7, #4]
 18130 0036 002B     		cmp	r3, #0
 18131 0038 02D1     		bne	.L69
1607:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1608:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_TIMEOUT;
 18132              		.loc 1 1608 0
 18133 003a 4FF00503 		mov	r3, #5
 18134 003e FB73     		strb	r3, [r7, #15]
 18135              	.L69:
1609:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1610:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the operation status */
1611:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 18136              		.loc 1 1611 0
 18137 0040 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1612:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 18138              		.loc 1 1612 0
 18139 0042 1846     		mov	r0, r3
 18140 0044 07F11007 		add	r7, r7, #16
 18141 0048 BD46     		mov	sp, r7
 18142 004a 80BD     		pop	{r7, pc}
 18143              		.cfi_endproc
 18144              	.LFE55:
 18146              		.section	.text.FLASH_WaitForLastBank1Operation,"ax",%progbits
 18147              		.align	2
 18148              		.global	FLASH_WaitForLastBank1Operation
 18149              		.thumb
 18150              		.thumb_func
 18152              	FLASH_WaitForLastBank1Operation:
 18153              	.LFB56:
1613:../target/stm32/stdperiph/src/stm32f10x_flash.c **** 
1614:../target/stm32/stdperiph/src/stm32f10x_flash.c **** /**
1615:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @brief  Waits for a Flash operation on Bank1 to complete or a TIMEOUT to occur.
1616:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @note   This function can be used for all STM32F10x devices, 
1617:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *         it is equivalent to FLASH_WaitForLastOperation.
1618:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @param  Timeout: FLASH progamming Timeout
1619:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   * @retval FLASH Status: The returned value can be: FLASH_ERROR_PG,
1620:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   *   FLASH_ERROR_WRP, FLASH_COMPLETE or FLASH_TIMEOUT.
1621:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   */
1622:../target/stm32/stdperiph/src/stm32f10x_flash.c **** FLASH_Status FLASH_WaitForLastBank1Operation(uint32_t Timeout)
1623:../target/stm32/stdperiph/src/stm32f10x_flash.c **** { 
 18154              		.loc 1 1623 0
 18155              		.cfi_startproc
 18156              		@ args = 0, pretend = 0, frame = 16
 18157              		@ frame_needed = 1, uses_anonymous_args = 0
 18158 0000 80B5     		push	{r7, lr}
 18159              	.LCFI75:
 18160              		.cfi_def_cfa_offset 8
 18161 0002 84B0     		sub	sp, sp, #16
 18162              	.LCFI76:
 18163              		.cfi_def_cfa_offset 24
 18164 0004 00AF     		add	r7, sp, #0
 18165              		.cfi_offset 14, -4
 18166              		.cfi_offset 7, -8
 18167              	.LCFI77:
 18168              		.cfi_def_cfa_register 7
 18169 0006 7860     		str	r0, [r7, #4]
1624:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   FLASH_Status status = FLASH_COMPLETE;
 18170              		.loc 1 1624 0
 18171 0008 4FF00403 		mov	r3, #4
 18172 000c FB73     		strb	r3, [r7, #15]
1625:../target/stm32/stdperiph/src/stm32f10x_flash.c ****    
1626:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Check for the Flash Status */
1627:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   status = FLASH_GetBank1Status();
 18173              		.loc 1 1627 0
 18174 000e FFF7FEFF 		bl	FLASH_GetBank1Status
 18175 0012 0346     		mov	r3, r0
 18176 0014 FB73     		strb	r3, [r7, #15]
1628:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Wait for a Flash operation to complete or a TIMEOUT to occur */
1629:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 18177              		.loc 1 1629 0
 18178 0016 07E0     		b	.L71
 18179              	.L73:
1630:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1631:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_GetBank1Status();
 18180              		.loc 1 1631 0
 18181 0018 FFF7FEFF 		bl	FLASH_GetBank1Status
 18182 001c 0346     		mov	r3, r0
 18183 001e FB73     		strb	r3, [r7, #15]
1632:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     Timeout--;
 18184              		.loc 1 1632 0
 18185 0020 7B68     		ldr	r3, [r7, #4]
 18186 0022 03F1FF33 		add	r3, r3, #-1
 18187 0026 7B60     		str	r3, [r7, #4]
 18188              	.L71:
1629:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 18189              		.loc 1 1629 0 discriminator 1
 18190 0028 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 18191 002a 012B     		cmp	r3, #1
 18192 002c 02D1     		bne	.L72
1629:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   while((status == FLASH_FLAG_BANK1_BSY) && (Timeout != 0x00))
 18193              		.loc 1 1629 0 is_stmt 0 discriminator 2
 18194 002e 7B68     		ldr	r3, [r7, #4]
 18195 0030 002B     		cmp	r3, #0
 18196 0032 F1D1     		bne	.L73
 18197              	.L72:
1633:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1634:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   if(Timeout == 0x00 )
 18198              		.loc 1 1634 0 is_stmt 1
 18199 0034 7B68     		ldr	r3, [r7, #4]
 18200 0036 002B     		cmp	r3, #0
 18201 0038 02D1     		bne	.L74
1635:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   {
1636:../target/stm32/stdperiph/src/stm32f10x_flash.c ****     status = FLASH_TIMEOUT;
 18202              		.loc 1 1636 0
 18203 003a 4FF00503 		mov	r3, #5
 18204 003e FB73     		strb	r3, [r7, #15]
 18205              	.L74:
1637:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   }
1638:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   /* Return the operation status */
1639:../target/stm32/stdperiph/src/stm32f10x_flash.c ****   return status;
 18206              		.loc 1 1639 0
 18207 0040 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1640:../target/stm32/stdperiph/src/stm32f10x_flash.c **** }
 18208              		.loc 1 1640 0
 18209 0042 1846     		mov	r0, r3
 18210 0044 07F11007 		add	r7, r7, #16
 18211 0048 BD46     		mov	sp, r7
 18212 004a 80BD     		pop	{r7, pc}
 18213              		.cfi_endproc
 18214              	.LFE56:
 18216              		.text
 18217              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_flash.c
     /tmp/cc2PekFm.s:16158  .text.FLASH_SetLatency:00000000 $t
     /tmp/cc2PekFm.s:16163  .text.FLASH_SetLatency:00000000 FLASH_SetLatency
     /tmp/cc2PekFm.s:16212  .text.FLASH_HalfCycleAccessCmd:00000000 $t
     /tmp/cc2PekFm.s:16217  .text.FLASH_HalfCycleAccessCmd:00000000 FLASH_HalfCycleAccessCmd
     /tmp/cc2PekFm.s:16262  .text.FLASH_PrefetchBufferCmd:00000000 $t
     /tmp/cc2PekFm.s:16267  .text.FLASH_PrefetchBufferCmd:00000000 FLASH_PrefetchBufferCmd
     /tmp/cc2PekFm.s:16312  .text.FLASH_Unlock:00000000 $t
     /tmp/cc2PekFm.s:16317  .text.FLASH_Unlock:00000000 FLASH_Unlock
     /tmp/cc2PekFm.s:16351  .text.FLASH_UnlockBank1:00000000 $t
     /tmp/cc2PekFm.s:16356  .text.FLASH_UnlockBank1:00000000 FLASH_UnlockBank1
     /tmp/cc2PekFm.s:16390  .text.FLASH_Lock:00000000 $t
     /tmp/cc2PekFm.s:16395  .text.FLASH_Lock:00000000 FLASH_Lock
     /tmp/cc2PekFm.s:16425  .text.FLASH_LockBank1:00000000 $t
     /tmp/cc2PekFm.s:16430  .text.FLASH_LockBank1:00000000 FLASH_LockBank1
     /tmp/cc2PekFm.s:16460  .text.FLASH_ErasePage:00000000 $t
     /tmp/cc2PekFm.s:16465  .text.FLASH_ErasePage:00000000 FLASH_ErasePage
     /tmp/cc2PekFm.s:18082  .text.FLASH_WaitForLastOperation:00000000 FLASH_WaitForLastOperation
     /tmp/cc2PekFm.s:16543  .text.FLASH_EraseAllPages:00000000 $t
     /tmp/cc2PekFm.s:16548  .text.FLASH_EraseAllPages:00000000 FLASH_EraseAllPages
     /tmp/cc2PekFm.s:16620  .text.FLASH_EraseAllBank1Pages:00000000 $t
     /tmp/cc2PekFm.s:16625  .text.FLASH_EraseAllBank1Pages:00000000 FLASH_EraseAllBank1Pages
     /tmp/cc2PekFm.s:18152  .text.FLASH_WaitForLastBank1Operation:00000000 FLASH_WaitForLastBank1Operation
     /tmp/cc2PekFm.s:16697  .text.FLASH_EraseOptionBytes:00000000 $t
     /tmp/cc2PekFm.s:16702  .text.FLASH_EraseOptionBytes:00000000 FLASH_EraseOptionBytes
     /tmp/cc2PekFm.s:17643  .text.FLASH_GetReadOutProtectionStatus:00000000 FLASH_GetReadOutProtectionStatus
     /tmp/cc2PekFm.s:16850  .text.FLASH_ProgramWord:00000000 $t
     /tmp/cc2PekFm.s:16855  .text.FLASH_ProgramWord:00000000 FLASH_ProgramWord
     /tmp/cc2PekFm.s:16960  .text.FLASH_ProgramHalfWord:00000000 $t
     /tmp/cc2PekFm.s:16965  .text.FLASH_ProgramHalfWord:00000000 FLASH_ProgramHalfWord
     /tmp/cc2PekFm.s:17036  .text.FLASH_ProgramOptionByteData:00000000 $t
     /tmp/cc2PekFm.s:17041  .text.FLASH_ProgramOptionByteData:00000000 FLASH_ProgramOptionByteData
     /tmp/cc2PekFm.s:17129  .text.FLASH_EnableWriteProtection:00000000 $t
     /tmp/cc2PekFm.s:17134  .text.FLASH_EnableWriteProtection:00000000 FLASH_EnableWriteProtection
     /tmp/cc2PekFm.s:17314  .text.FLASH_ReadOutProtection:00000000 $t
     /tmp/cc2PekFm.s:17319  .text.FLASH_ReadOutProtection:00000000 FLASH_ReadOutProtection
     /tmp/cc2PekFm.s:17469  .text.FLASH_UserOptionByteConfig:00000000 $t
     /tmp/cc2PekFm.s:17474  .text.FLASH_UserOptionByteConfig:00000000 FLASH_UserOptionByteConfig
     /tmp/cc2PekFm.s:17573  .text.FLASH_GetUserOptionByte:00000000 $t
     /tmp/cc2PekFm.s:17578  .text.FLASH_GetUserOptionByte:00000000 FLASH_GetUserOptionByte
     /tmp/cc2PekFm.s:17606  .text.FLASH_GetWriteProtectionOptionByte:00000000 $t
     /tmp/cc2PekFm.s:17611  .text.FLASH_GetWriteProtectionOptionByte:00000000 FLASH_GetWriteProtectionOptionByte
     /tmp/cc2PekFm.s:17638  .text.FLASH_GetReadOutProtectionStatus:00000000 $t
     /tmp/cc2PekFm.s:17691  .text.FLASH_GetPrefetchBufferStatus:00000000 $t
     /tmp/cc2PekFm.s:17696  .text.FLASH_GetPrefetchBufferStatus:00000000 FLASH_GetPrefetchBufferStatus
     /tmp/cc2PekFm.s:17744  .text.FLASH_ITConfig:00000000 $t
     /tmp/cc2PekFm.s:17749  .text.FLASH_ITConfig:00000000 FLASH_ITConfig
     /tmp/cc2PekFm.s:17806  .text.FLASH_GetFlagStatus:00000000 $t
     /tmp/cc2PekFm.s:17811  .text.FLASH_GetFlagStatus:00000000 FLASH_GetFlagStatus
     /tmp/cc2PekFm.s:17884  .text.FLASH_ClearFlag:00000000 $t
     /tmp/cc2PekFm.s:17889  .text.FLASH_ClearFlag:00000000 FLASH_ClearFlag
     /tmp/cc2PekFm.s:17921  .text.FLASH_GetStatus:00000000 $t
     /tmp/cc2PekFm.s:17926  .text.FLASH_GetStatus:00000000 FLASH_GetStatus
     /tmp/cc2PekFm.s:17999  .text.FLASH_GetBank1Status:00000000 $t
     /tmp/cc2PekFm.s:18004  .text.FLASH_GetBank1Status:00000000 FLASH_GetBank1Status
     /tmp/cc2PekFm.s:18077  .text.FLASH_WaitForLastOperation:00000000 $t
     /tmp/cc2PekFm.s:18147  .text.FLASH_WaitForLastBank1Operation:00000000 $t
                     .debug_frame:00000010 $d

NO UNDEFINED SYMBOLS
